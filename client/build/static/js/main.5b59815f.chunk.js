(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{113:function(e,t,a){e.exports=a.p+"static/media/default.001d4596.jpg"},294:function(e,t,a){e.exports=a.p+"static/media/404.45648724.png"},324:function(e,t,a){e.exports=a(513)},460:function(e,t,a){},489:function(e,t){},513:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(18),s=a.n(c),o=a(19),i=a(41),l=a(16),u="LOGOUT_USER",m=function(){return{type:"OPEN_NOTIF_SUCCESS"}},d=function(e){return{type:"NEW_NOTIF",data:e}},p=function(){return{type:"GET_NOTIF"}},E=a(66),f=a(5),b=a(142),g=a(31),h=a(605),O=a(563),v=a(564),x=a(565),S=a(572),k=a(76),y=a(571),j=a(566),w=a(283),_=a.n(w),C=a(286),R=a.n(C),I=a(287),N=a.n(I),T=a(573),L=a(574),A=a(575),P=a(67),U=a(568),D=a(562),M=a(203),F=a.n(M),G=a(202),B=a.n(G),W=a(280),H=a.n(W),V=a(281),K=a.n(V),q=a(278),z=a.n(q),Z=a(279),$=a.n(Z),Y=a(285),J=a.n(Y),X=a(567),Q=Object(b.a)((function(e){return{root:{display:"relative",marginBottom:e.spacing(10)},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),backgroundColor:"#FFFFFF"},appBarShift:{width:"calc(100% - ".concat(240,"px)"),marginLeft:240,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:e.spacing(2)},hide:{display:"none"},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerHeader:Object(o.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar,{justifyContent:"flex-end"}),title:{flexGrow:1},notif:{margin:"auto"}}}));var ee=function(e){var t=e.unseenNotif,a=e.user,n=e.handleLogout,c=e.handleNotifListOpen,s=[{text:"Browse",path:"/browse",icon:r.a.createElement(z.a,{color:"secondary"})},{text:"Search",path:"/search",icon:r.a.createElement($.a,{color:"secondary"})},{text:"Profile",path:"/profile",icon:r.a.createElement(B.a,{color:"secondary"})},{text:"Activity",path:"/activity",icon:r.a.createElement(H.a,{color:"secondary"})},{text:"Friends",path:"/chat",icon:r.a.createElement(K.a,{color:"secondary"})}],o=[{text:"Complete Profile",path:"/completeProfile",icon:r.a.createElement(B.a,{color:"secondary"})}],l=[{text:"Se connecter",path:"/login",icon:r.a.createElement(F.a,{color:"secondary"})},{text:"inscription",path:"/register",icon:r.a.createElement(F.a,{color:"secondary"})}],u=[];u=a&&a.token?a&&3===a.complete?s:o:l;var m=Q(),d=Object(g.a)(),p=r.a.useState(!1),b=Object(i.a)(p,2),w=b[0],C=b[1];return r.a.createElement(D.a,{onClickAway:function(){C(!1)}},r.a.createElement("div",{className:m.root},r.a.createElement(O.a,null),r.a.createElement(v.a,{position:"fixed",className:Object(f.a)(m.appBar,Object(E.a)({},m.appBarShift,w))},r.a.createElement(x.a,null,r.a.createElement(j.a,{color:"primary","aria-label":"open drawer",onClick:function(){C(!0)},edge:"start",className:Object(f.a)(m.menuButton,w&&m.hide)},r.a.createElement(_.a,null)),r.a.createElement(k.a,{variant:"h6",color:"secondary",className:m.title},r.a.createElement(P.a,{to:"/home",style:{textDecoration:"none",color:"inherit"}},"MATCHA")),a&&a.token&&r.a.createElement(j.a,{edge:"end","aria-label":"account of current user","aria-haspopup":"true",onClick:c,color:"primary",className:m.notif},r.a.createElement(X.a,{badgeContent:t,color:"secondary"},r.a.createElement(J.a,null))),a&&a.token&&r.a.createElement(U.a,{color:"primary",onClick:n},"Logout"))),r.a.createElement(h.a,{className:m.drawer,variant:"persistent",anchor:"left",open:w,classes:{paper:m.drawerPaper}},r.a.createElement("div",{className:m.drawerHeader},r.a.createElement(j.a,{onClick:function(){C(!1)}},"ltr"===d.direction?r.a.createElement(R.a,{color:"primary"}):r.a.createElement(N.a,null))),r.a.createElement(y.a,null),r.a.createElement(S.a,null,u.map((function(e){return r.a.createElement(P.a,{to:e.path,style:{textDecoration:"none",color:"primary"},key:e.text},r.a.createElement(T.a,{button:!0},r.a.createElement(L.a,null,e.icon),r.a.createElement(A.a,{primary:e.text})))}))))))},te=a(309),ae=function(e){var t=e.handleClose,a=e.state,n=e.children;return r.a.createElement(r.a.Fragment,null,r.a.createElement(te.a,{id:"custom-menu",anchorEl:a.anchor,keepMounted:!0,open:a.open,onClose:t,elevation:10,PaperProps:{style:{maxHeight:520,width:360,marginTop:50}}},r.a.createElement("div",null,n)))},ne=a(578),re=a(579),ce=a(577),se=Object(b.a)((function(e){return{root:{width:"100%",maxWidth:360,position:"relative",overflow:"auto"},large:{width:75,height:75,margin:10}}}));function oe(e){var t=se(),a=e.notifList;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ce.a,{container:!0,justify:"center"},r.a.createElement(S.a,{className:t.root},r.a.createElement(k.a,{component:"h1",variant:"h4",align:"center",color:"primary"},"Notifications"),a.length>0?a.map((function(e,a){return r.a.createElement(T.a,{key:a,button:!0},r.a.createElement(ne.a,null,r.a.createElement(re.a,{className:t.large,alt:"Avatar",src:"http://localhost:5000/images/".concat(e.by.profilePic)})),r.a.createElement(A.a,null,e.content))})):r.a.createElement("p",null,"No notifications"))))}var ie={logoutAction:function(){return{type:u}},openNotif:function(){return{type:"OPEN_NOTIF"}}},le=Object(l.c)((function(e){return{user:e.user,notifList:e.notif.notifications}}),ie,(function(e,t,a){return Object(o.a)({},e,{},t,{},a,{handleLogout:function(){t.logoutAction()}})}))((function(e){var t=e.openNotif,a=e.user,c=e.handleLogout,s=e.notifList,o=Object(n.useState)({open:!1}),l=Object(i.a)(o,2),u=l[0],m=l[1],d=0;return s&&s.forEach((function(e){0===e.seen&&d++})),r.a.createElement(r.a.Fragment,null,r.a.createElement(ee,{unseenNotif:d,handleLogout:c,user:a,handleNotifListOpen:function(e){t(),m({open:!0,anchor:e.currentTarget})}}),r.a.createElement(ae,{state:u,handleClose:function(){m({open:!1,anchor:null})}},r.a.createElement(oe,{notifList:s})))})),ue=a(580),me={backgroundColor:"#FFFFFF",borderTop:"3px solid #E7E7E7",textAlign:"center",padding:"20px",position:"fixed",left:"0",bottom:"0",height:"60px",width:"100%"},de={display:"block",padding:"20px",height:"60px",width:"100%"},pe=function(){return r.a.createElement(k.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(ue.a,{color:"inherit",href:"#"},"MATCHA")," ",(new Date).getFullYear(),".")},Ee=function(){return r.a.createElement("div",null,r.a.createElement("div",{style:de}),r.a.createElement("div",{style:me},r.a.createElement(pe,null)))},fe=a(65),be=a(598),ge=a(110),he=a.n(ge),Oe=a(582),ve=a(167),xe=a(597),Se=function(e){var t=e.input,a=e.label,n=e.meta,c=n.touched,s=n.error,o=Object(ve.a)(e,["input","label","meta"]);return r.a.createElement(xe.a,Object.assign({label:a,helperText:c&&s,error:c&&!!s,variant:"outlined",fullWidth:!0},t,o))},ke=a(583),ye=a(205);function je(e){var t=e.msg,a=e.variant,c=Object(ye.useSnackbar)().enqueueSnackbar;return Object(n.useEffect)((function(){t&&a&&t.forEach((function(e){c(e,{variant:a})}))}),[]),r.a.createElement(r.a.Fragment,null)}function we(e){return r.a.createElement(ye.SnackbarProvider,{anchorOrigin:{vertical:"top",horizontal:"right"},style:{marginTop:"49px"},autoHideDuration:4e3,maxSnack:5},r.a.createElement(je,{msg:e.msg,variant:e.variant}))}var _e=Object(b.a)((function(e){return{paper:{display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2),backgroundColor:e.palette.secondary.main},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main}}})),Ce=function(e){var t=e.handleSubmit,a=e.status,n=e.err,c=_e();return r.a.createElement(Oe.a,{component:"main",maxWidth:"xs"},r.a.createElement(O.a,null),"error"===a&&r.a.createElement(we,{variant:"error",msg:[n]}),"loading"!==a&&r.a.createElement("div",{className:c.paper},r.a.createElement(re.a,{className:c.avatar},r.a.createElement(he.a,null)),r.a.createElement(k.a,{component:"h1",variant:"h5",color:"primary"},"Sign up"),r.a.createElement("form",{className:c.form},r.a.createElement(ce.a,{container:!0,spacing:2},r.a.createElement(ce.a,{item:!0,xs:12,sm:6},r.a.createElement(be.a,{name:"firstname",component:Se,label:"Firstname",type:"text",rows:"1"})),r.a.createElement(ce.a,{item:!0,xs:12,sm:6},r.a.createElement(be.a,{name:"lastname",component:Se,label:"Lastname",type:"text",rows:"1"})),r.a.createElement(ce.a,{item:!0,xs:12},r.a.createElement(be.a,{name:"username",component:Se,label:"Username",type:"text",rows:"1"})),r.a.createElement(ce.a,{item:!0,xs:12},r.a.createElement(be.a,{name:"email",component:Se,label:"Email",type:"email",rows:"1"})),r.a.createElement(ce.a,{item:!0,xs:12},r.a.createElement(be.a,{name:"password",component:Se,label:"Password",type:"password",rows:"1"})),r.a.createElement(ce.a,{item:!0,xs:12},r.a.createElement(be.a,{name:"confirmPassword",component:Se,label:"ConfirmPassword",type:"password",rows:"1"})),r.a.createElement(ce.a,{item:!0,xs:12},r.a.createElement(U.a,{onClick:t,className:c.submit,fullWidth:!0,variant:"contained",type:"submit",color:"primary",name:"submit",value:"ok"},"Submit")))),r.a.createElement(ce.a,{container:!0,justify:"flex-end"},r.a.createElement(ce.a,{item:!0},r.a.createElement(P.a,{to:"/login",style:{textDecoration:"none",color:"#3f51b5"}},"Already have an account? Sign in")))),"loading"===a&&r.a.createElement("div",{className:c.paper,style:{marginTop:"300px"}},r.a.createElement(ke.a,{color:"secondary"})))},Re=function(e){return{type:"INSCRIPTION_USER_SUCCESS",data:e}},Ie=function(e){return{type:"INSCRIPTION_USER_ERROR",error:e}},Ne=a(596),Te={registerAction:function(e){return{type:"INSCRIPTION_USER",data:e}}},Le=Object(l.c)((function(e){return{form:e.form,status:e.register.registerStatus,err:e.register.error}}),Te,(function(e,t,a){return Object(o.a)({},e,{},t,{},a,{handleSubmit:a.handleSubmit((function(e){t.registerAction(e)}))})}))(Ce),Ae=Object(Ne.a)({form:"register",destroyOnUnmount:!0,validate:function(e){var t={};return["firstname","lastname","username","email","password","confirmPassword"].forEach((function(a){e[a]&&e[a].trim()||(t[a]="Required !")})),e.username&&!/^[a-z0-9_-]{2,20}$/.test(e.username)&&(t.username='Username can contain 2-20 characters, letters (a-z), numbers, "_" and "-"'),e.email&&!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)&&(t.email="Invalid email address !"),e.password&&!/\d/.test(e.password)?t.password="Password must contain a number !":e.password&&!/[A-Z]/.test(e.password)?t.password="Password must contain an uppercase letter !":e.password&&!/[a-z]/.test(e.password)?t.password="Password must contain a lowercase letter !":e.password&&!/[ !@#$%^&*()_+\-=[\]{};':"\\|,.<>/?]/.test(e.password)?t.password="Password must contain a special character !":e.password&&!/[a-zA-Z0-9 !@#$%^&*()_+\-=[\]{};':"\\|,.<>/? ]{8,20}/.test(e.password)&&(t.password="Password must contain 8-20 characters !"),e.confirmPassword&&e.password!==e.confirmPassword&&(t.confirmPassword="Passwords does not match !"),t}})(Le),Pe=a(589),Ue=a(584),De=a(585),Me=a(586),Fe=a(587),Ge=a(588),Be=a(595),We=a(604),He=a(113),Ve=a.n(He),Ke=a(90),qe=a.n(Ke),ze=a(292),Ze=a.n(ze),$e=a(606),Ye=a(89),Je=a.n(Ye),Xe=a(155),Qe=a.n(Xe),et=a(156),tt=a.n(et),at=a(114),nt=a.n(at),rt=Object(b.a)((function(e){return{root:{padding:"10px",boxShadow:3},card:{maxWidth:400,maxHeight:550,borderRadius:"20px",backgroundColor:"#E6EAEA"},cardMedia:{maxWidth:400,maxHeight:250},cardHeader:{maxWidth:400,maxHeight:150},cardContent:{maxWidth:400,maxHeight:100},cardAction:{maxWidth:400,maxHeight:50},avatarON:{backgroundColor:"#00FB0C",width:15,height:15},avatarOF:{backgroundColor:"#e42416",width:15,height:15}}}));function ct(e){var t=e.user,a=e.images,n=e.interests,c=e.handleBlock,s=e.handleLike,o=e.handleDislike,i=e.handleViewProfile,l=rt(),u=t.rating;return r.a.createElement("div",{className:l.root},r.a.createElement(Ue.a,{className:l.card},r.a.createElement(De.a,{className:l.cardHeader,action:r.a.createElement(Be.a,{component:"fieldset",mb:3,borderColor:"transparent"},r.a.createElement("div",{className:l.rating1},r.a.createElement(We.a,{name:"read-only",value:u,precision:.1,readOnly:!0}))),avatar:r.a.createElement(re.a,{"aria-label":"recipe",className:1===t.isOnline?l.avatarON:l.avatarOF}),title:t.firstname+" "+t.lastname,subheader:1===t.isOnline?"Online":"Last seen"+t.lastSignIn}),r.a.createElement(Me.a,{className:l.cardMedia,children:0!==a.length?a.map((function(e){return r.a.createElement("div",{key:e.id},1===e.isProfilePic&&r.a.createElement("img",{style:{width:"100%",height:"250px"},src:"http://localhost:5000/images/".concat(e.path),alt:"images"}))})):r.a.createElement("img",{style:{width:"100%",height:"250px"},src:Ve.a,alt:"images"})}),r.a.createElement(Fe.a,{className:l.cardContent},r.a.createElement(k.a,null,"Age : ",t.age)),r.a.createElement(Ge.a,{className:l.cardAction},null===t.like&&r.a.createElement($e.a,{title:"Like"},r.a.createElement(j.a,{"aria-label":"Like",onClick:function(e){return s(t.id)}},r.a.createElement(Qe.a,{color:"secondary"}))),"iLike"===t.like&&r.a.createElement($e.a,{title:"Unlike"},r.a.createElement(j.a,{"aria-label":"Unlike",onClick:function(e){return o(t.id)}},r.a.createElement(Je.a,{color:"secondary"}))),"heLiked"===t.like&&r.a.createElement($e.a,{title:"Like back"},r.a.createElement(j.a,{"aria-label":"Like back",onClick:function(e){return s(t.id)}},r.a.createElement(tt.a,{color:"primary"}))),"match"===t.like&&r.a.createElement($e.a,{title:"Unmatch"},r.a.createElement(j.a,{"aria-label":"Unmatch",onClick:function(e){return o(t.id)}},r.a.createElement(nt.a,{color:"primary"}))),r.a.createElement($e.a,{title:"Block"},r.a.createElement(j.a,{"aria-label":"Block",onClick:function(e){return c(t.id)}},r.a.createElement(qe.a,{color:"secondary"}))),r.a.createElement($e.a,{title:"View"},r.a.createElement(j.a,{"aria-label":"View",onClick:function(e){return i(t,a,n)}},r.a.createElement(Ze.a,{color:"primary"}))))))}var st=a(607),ot=a(293),it=a(127),lt=a.n(it),ut=a(128),mt=a.n(ut),dt=Object(b.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:e.palette.background.paper},submit:{margin:e.spacing(3,0,2),width:100,backgroundColor:e.palette.secondary.main},rating:{maxWidth:400},margin:{height:e.spacing(3)},card:{border:"2px solid",borderColor:"#E6EAEA"}}}));function pt(e){var t=dt(),a=e.selectOptions,n=e.handle,c=e.users,s=e.handleSubmit,i=e.handleBlock,l=e.handleLike,u=e.handleDislike,m=e.handleViewProfile,d=e.handleChangeAge,p=e.handleChangeLoc,E=e.handleChangeRating,f=e.handleChangeTags,b=e.handleChangeNbrTags,g=e.age,h=e.nbrTags,O=e.loc,v=e.rating,x={control:function(e,t){return Object(o.a)({},e,{borderColor:(t.isFocused,"#3f51b5"),boxShadow:(t.isFocused,null)})},menu:function(e){return Object(o.a)({},e,{borderRadius:0,marginTop:0,backgroundColor:"#DBDFF"})},menuList:function(e){return Object(o.a)({},e,{padding:0})}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ue.a,{className:t.card},r.a.createElement(De.a,{title:"FILTRE",align:"center"}),r.a.createElement(Fe.a,null,r.a.createElement(ce.a,{container:!0,item:!0,justify:"center",spacing:2,xs:12},r.a.createElement(ce.a,{item:!0,xs:6,className:t.rating},r.a.createElement("div",{className:t.margin}),r.a.createElement($e.a,{title:"DESC"},r.a.createElement(j.a,{"aria-label":"View",onClick:function(e){return n("-rating")}},r.a.createElement(lt.a,{color:"primary"}))),r.a.createElement($e.a,{title:"ASC"},r.a.createElement(j.a,{"aria-label":"View",onClick:function(e){return n("rating")}},r.a.createElement(mt.a,{color:"primary"}))),r.a.createElement(k.a,{id:"range-slider1",gutterBottom:!0,align:"center"},"Rating"),r.a.createElement(st.a,{value:v,onChange:E,valueLabelDisplay:"auto","aria-labelledby":"range-slider",step:.2,marks:[{value:0,label:"0"},{value:.5,label:"0.5"},{value:1,label:"1"},{value:1.5,label:"1.5"},{value:2,label:"2"},{value:2.5,label:"2.5"},{value:3,label:"3"},{value:3.5,label:"3.5"},{value:4,label:"4"},{value:4.5,label:"4.5"},{value:5,label:"5"}],min:0,max:5})),r.a.createElement(ce.a,{item:!0,xs:6,className:t.rating},r.a.createElement("div",{className:t.margin}),r.a.createElement($e.a,{title:"DESC"},r.a.createElement(j.a,{"aria-label":"View",onClick:function(e){return n("-age")}},r.a.createElement(lt.a,{color:"primary"}))),r.a.createElement($e.a,{title:"ASC"},r.a.createElement(j.a,{"aria-label":"View",onClick:function(e){return n("age")}},r.a.createElement(mt.a,{color:"primary"}))),r.a.createElement(k.a,{id:"range-slider2",gutterBottom:!0,align:"center"},"AGE"),r.a.createElement(st.a,{value:g,onChange:d,valueLabelDisplay:"auto","aria-labelledby":"range-slider",step:1,min:18,max:120})),r.a.createElement(ce.a,{item:!0,xs:6,className:t.rating},r.a.createElement("div",{className:t.margin}),r.a.createElement($e.a,{title:"DESC"},r.a.createElement(j.a,{"aria-label":"View",onClick:function(e){return n("-distance")}},r.a.createElement(lt.a,{color:"primary"}))),r.a.createElement($e.a,{title:"ASC"},r.a.createElement(j.a,{"aria-label":"View",onClick:function(e){return n("distance")}},r.a.createElement(mt.a,{color:"primary"}))),r.a.createElement(k.a,{id:"range-slider3",gutterBottom:!0,align:"center"},"Localisation"),r.a.createElement(st.a,{value:O,onChange:p,valueLabelDisplay:"auto","aria-labelledby":"range-slider",step:1e3,min:0,max:5e4})),r.a.createElement(ce.a,{item:!0,xs:6,className:t.rating},r.a.createElement("div",{className:t.margin}),r.a.createElement($e.a,{title:"DESC"},r.a.createElement(j.a,{"aria-label":"View",onClick:function(e){return n("-nbrTags")}},r.a.createElement(lt.a,{color:"primary"}))),r.a.createElement($e.a,{title:"ASC"},r.a.createElement(j.a,{"aria-label":"View",onClick:function(e){return n("nbrTags")}},r.a.createElement(mt.a,{color:"primary"}))),r.a.createElement(k.a,{id:"range-slider4",gutterBottom:!0,align:"center"},"Tags Commun"),r.a.createElement(st.a,{value:h,onChange:b,valueLabelDisplay:"auto","aria-labelledby":"range-slider",step:1,marks:[{value:0,label:"0"},{value:1,label:"1"},{value:2,label:"2"},{value:3,label:"3"},{value:4,label:"4"},{value:5,label:"5"}],min:0,max:5})),r.a.createElement(ce.a,{item:!0,xs:6,className:t.rating},r.a.createElement("div",{className:t.margin}),r.a.createElement(k.a,{id:"range-slider5",gutterBottom:!0,align:"center"},"Tags"),r.a.createElement(ot.a,{isMulti:!0,isClearable:!1,onChange:f,options:a,styles:x})))),r.a.createElement(Ge.a,null,r.a.createElement(U.a,{type:"submit",onClick:s,color:"primary",className:t.submit,fullWidth:!0,variant:"contained"},"Send"))),r.a.createElement("div",{className:t.root},!0===c.isUsers&&c.users&&c.users.map((function(e){return r.a.createElement(Pe.a,{key:e.user.id},r.a.createElement(ct,{key:e.user.id,user:e.user,images:e.images,interests:e.interests,handleBlock:i,handleLike:l,handleViewProfile:m,handleDislike:u}))})),(!1===c.isUsers||null===c.users||0===c.length)&&r.a.createElement("p",null,"No User Found")),"loading"===c.status&&r.a.createElement("div",{className:t.root},r.a.createElement(ke.a,{color:"secondary"})))}var Et=function(){return{type:"GET_OPTIONS"}},ft=function(e){return{type:"GET_OPTIONS_SUCCESS",options:e}},bt=function(e){return{type:"CREATE_OPTION",data:{value:e,label:e}}},gt=function(e){return{type:"CREATE_OPTION_SUCCESS",option:e}},ht=function(e){return{type:"CREATE_OPTION_ERROR",error:e}},Ot=function(e){return{type:"ADD_INFO_ERROR",error:e}},vt=function(){return{type:"GET_LOC"}},xt=function(e){return{type:"ADD_LOCATION",loc:e}},St=function(e){return{type:"ADD_LOCATION_SUCCESS",loc:e}},kt=function(e){return{type:"UPDATE_USER_SUCCESS",data:e}},yt=function(e){return{type:"GET_USERS_SUCCESS",data:e}},jt=function(e){return{type:"GET_USERS_ERROR",err:e}},wt=function(e){return{type:"DELETE_USER",id:e}},_t=function(){return{type:"RESET_STATE"}},Ct=a(601),Rt=a(570),It=Object(b.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:"0px",borderRadius:"20px",outline:0}}}));function Nt(e){var t=e.isOpen,a=e.children,n=e.handleClose,c=It();return r.a.createElement("div",null,r.a.createElement(Ct.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:c.modal,open:t,onClose:n},r.a.createElement(Rt.a,{in:t},r.a.createElement("div",{className:c.paper},a))))}var Tt=a(159),Lt=a.n(Tt),At=a(95),Pt=a(161),Ut=a.n(Pt),Dt=a(608),Mt=Object(b.a)((function(e){return{card:{maxWidth:320,maxHeight:600,borderRadius:"20px",backgroundColor:"#E6EAEA"},cardMedia:{maxWidth:320,maxHeight:250},cardHeader:{maxWidth:320,maxHeight:100},cardContent:{maxWidth:320,maxHeight:200},cardAction:{marginTop:20,maxWidth:320,maxHeight:50},avatarON:{backgroundColor:"#00FB0C",width:15,height:15},avatarOF:{backgroundColor:"#e42416",width:15,height:15},chip:{marginRight:"5px"}}}));function Ft(e){var t=e.user,a=e.images,n=e.interests,c=e.handleBlock,s=e.handleLike,o=e.handleReport,i=e.handleDislike,l=Mt(),u=t.rating,m={Swiper:At.c,modules:[At.a,At.b],pagination:{el:".swiper-pagination",type:"bullets",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},spaceBetween:30};return r.a.createElement(Ue.a,{className:l.card},r.a.createElement(De.a,{className:l.cardHeader,action:r.a.createElement(Be.a,{component:"fieldset",mb:3,borderColor:"transparent"},r.a.createElement("div",{className:l.rating1},r.a.createElement(We.a,{name:"read-only",value:u,precision:.1,readOnly:!0}))),avatar:r.a.createElement(re.a,{"aria-label":"recipe",className:1===t.isOnline?l.avatarON:l.avatarOF}),title:t.firstname+" "+t.lastname,subheader:1===t.isOnline?"Online":"Last seen :"+t.lastSignIn}),r.a.createElement(Me.a,{className:l.cardMedia,children:r.a.createElement(Lt.a,m,0!==a.length?a.map((function(e){return r.a.createElement("div",{key:e.id},r.a.createElement("img",{style:{width:"100%",height:"250px"},src:"http://localhost:5000/images/".concat(e.path),alt:"images"}))})):r.a.createElement("img",{style:{width:"100%",height:"250px"},src:Ve.a,alt:"images"}))}),r.a.createElement(Fe.a,{className:l.cardContent},r.a.createElement(Fe.a,null,r.a.createElement(k.a,null,r.a.createElement("strong",null,"AGE :"),t.age),r.a.createElement(k.a,{component:"span"},r.a.createElement("strong",null,"INTERESTS :")," ",null!=n&&n.map((function(e,t){return r.a.createElement(Dt.a,{key:t,className:l.chip,label:e.value})}))),r.a.createElement(k.a,null,r.a.createElement("strong",null,"BIO :")," ",t.bio))),r.a.createElement(Ge.a,{className:l.cardAction},null===t.like&&r.a.createElement($e.a,{title:"Like"},r.a.createElement(j.a,{"aria-label":"Like",onClick:function(e){return s(t.id)}},r.a.createElement(Qe.a,{color:"secondary"}))),"iLike"===t.like&&r.a.createElement($e.a,{title:"Unlike"},r.a.createElement(j.a,{"aria-label":"Unlike",onClick:function(e){return i(t.id)}},r.a.createElement(Je.a,{color:"secondary"}))),"heLiked"===t.like&&r.a.createElement($e.a,{title:"Like back"},r.a.createElement(j.a,{"aria-label":"Like back",onClick:function(e){return s(t.id)}},r.a.createElement(tt.a,{color:"primary"}))),"match"===t.like&&r.a.createElement($e.a,{title:"Unmatch"},r.a.createElement(j.a,{"aria-label":"Unmatch",onClick:function(e){return i(t.id)}},r.a.createElement(nt.a,{color:"primary"}))),r.a.createElement($e.a,{title:"Block"},r.a.createElement(j.a,{"aria-label":"Block",onClick:function(e){return c(t.id)}},r.a.createElement(qe.a,{color:"secondary"}))),r.a.createElement($e.a,{title:"Report"},r.a.createElement(j.a,{"aria-label":"Report",onClick:function(e){return o(t.id)}},r.a.createElement(Ut.a,{color:"secondary"})))))}var Gt={getOptions:Et,getUsers:function(e){return{type:"GET_USERS",filtre:e}},blockUser:function(e){return{type:"BLOCK_USER",blocked_user_id:e}},likeUser:function(e){return{type:"LIKE_USER",liked_user_id:e}},dislikeUser:function(e){return{type:"DISLIKE_USER",dislike_user_id:e}},reportUser:function(e){return{type:"REPORT_USER",reported_user_id:e}},viewProfileUser:function(e){return{type:"VIEW_PROFILE_USER",viewed_user_id:e}},resetStateUsers:function(){return{type:"RESET_STATE_USERS"}},sortUsers:function(e,t){return{type:"SORT_USERS",methode:e,route:t}}},Bt=Object(l.c)((function(e){return{user:e.user,selectOptions:e.addInfo.selectOptions,users:e.users,router:e.router}}),Gt)((function(e){var t=e.getOptions,a=e.selectOptions,c=e.getUsers,s=e.blockUser,o=e.likeUser,l=e.dislikeUser,u=e.reportUser,m=e.users,d=e.viewProfileUser,p=e.router,E=e.resetStateUsers,f=e.sortUsers,b=p.location.pathname;Object(n.useEffect)((function(){t(),"/browse"===b?c(null):"/search"===b&&E()}),[t,c,E,b]);var g=r.a.useState({open:!1,user:null,images:null,interests:null}),h=Object(i.a)(g,2),O=h[0],v=h[1],x=r.a.useState([0,0]),S=Object(i.a)(x,2),k=S[0],y=S[1],j=r.a.useState([18,18]),w=Object(i.a)(j,2),_=w[0],C=w[1],R=r.a.useState([0,0]),I=Object(i.a)(R,2),N=I[0],T=I[1],L=r.a.useState([0,0]),A=Object(i.a)(L,2),P=A[0],U=A[1],D=r.a.useState(null),M=Object(i.a)(D,2),F=M[0],G=M[1],B=function(e){s(e),v({open:!1})},W=function(e){l(e),v({open:!1})},H=function(e){o(e),v({open:!1})};return r.a.createElement("div",null,r.a.createElement(pt,{selectOptions:a,users:m,handleBlock:B,handleLike:H,handleViewProfile:function(e,t,a){d(e.id),v({open:!0,user:e,images:t,interests:a})},handleChangeRating:function(e,t){return y(t),t},handleChangeAge:function(e,t){return C(t),t},handleChangeLoc:function(e,t){return T(t),t},handleChangeNbrTags:function(e,t){return U(t),t},rating:k,handleChangeTags:function(e){return G(e),e},loc:N,nbrTags:P,age:_,handleSubmit:function(){var e=[];F&&F.forEach((function(t){e.push(t.value)}));var t={tags:e,nbrTags:P,rating:k,age:_,loc:N,router:b};0!==e.length||0!==P[0]||0!==P[1]||0!==k[0]||0!==k[1]||0!==N[0]||0!==N[1]||18!==_[0]||18!==_[1]||"/search"!==b?c(t):E()},handle:function(e){f(e,b)},handleDislike:W}),O.open&&r.a.createElement(Nt,{isOpen:O.open,handleClose:function(){v({open:!1})}},r.a.createElement(Ft,{handleBlock:B,handleLike:H,handleReport:function(e){u(e),v({open:!1})},handleDislike:W,user:O.user,images:O.images,interests:O.interests})))})),Wt=Object(b.a)((function(e){return{paper:{display:"flex",flexDirection:"column",alignItems:"center",width:"100%"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2),backgroundColor:e.palette.secondary.main},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main}}})),Ht=function(e){var t=e.handleSubmit,a=e.status,n=e.errors,c=e.registredStatus,s=Wt();return r.a.createElement(Oe.a,{component:"main",maxWidth:"xs"},r.a.createElement(O.a,null),"success"===c&&r.a.createElement(we,{variant:"success",msg:["Registred successfully, check your e-mail"]}),"errorField"===a&&r.a.createElement(we,{variant:"error",msg:[n]}),r.a.createElement("div",{className:s.paper},r.a.createElement(re.a,{className:s.avatar},r.a.createElement(he.a,null)),r.a.createElement(k.a,{component:"h1",variant:"h5",color:"primary"},"Sign in"),r.a.createElement("form",{className:s.form},r.a.createElement(ce.a,{container:!0,spacing:2},r.a.createElement(ce.a,{item:!0,xs:12},r.a.createElement(be.a,{name:"username",label:"Username",type:"text",component:Se})),r.a.createElement(ce.a,{item:!0,xs:12},r.a.createElement(be.a,{name:"password",type:"password",component:Se,rows:"1",label:"Password"})),r.a.createElement(ce.a,{item:!0,xs:12},r.a.createElement(U.a,{onClick:t,className:s.submit,fullWidth:!0,variant:"contained",type:"submit",color:"primary",name:"submit",value:"ok"},"Submit")))),r.a.createElement(ce.a,{container:!0,justify:"flex-end"},r.a.createElement(ce.a,{item:!0,xs:!0},r.a.createElement(P.a,{to:"/forgotPassword",style:{textDecoration:"none",color:"#3f51b5"}},"Forgot password?")),r.a.createElement(ce.a,{item:!0},r.a.createElement(P.a,{to:"/register",style:{textDecoration:"none",color:"#3f51b5"}},"Don't have an account? Sign Up")))))},Vt={loginAction:function(e){return{type:"LOGIN_USER",data:e}}},Kt=Object(l.c)((function(e){return{form:e.form,status:e.login.status,errors:e.login.error,token:e.user,registredStatus:e.register.registerStatus}}),Vt,(function(e,t,a){return Object(o.a)({},e,{},t,{},a,{handleSubmit:a.handleSubmit((function(e){t.loginAction(e)}))})}))(Ht),qt=Object(Ne.a)({form:"login",destroyOnUnmount:!0,validate:function(e){var t={};return["username","password"].forEach((function(a){e[a]&&e[a].trim()||(t[a]="Required !")})),t}})(Kt),zt=a(294),Zt=a.n(zt),$t=function(){return r.a.createElement("img",{src:Zt.a,style:{width:"97%",height:"100%"},alt:"NotFoundPage"})},Yt=function(e){return{type:"SEND_EMAIL_ERROR",error:e}},Jt=function(e){return{type:"RESET_PASSWORD_ERROR",error:e}},Xt=a(295),Qt=a.n(Xt),ea=Object(b.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2),backgroundColor:e.palette.secondary.main},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main}}})),ta=function(e){var t=ea(),a=e.handleSubmit,n=e.status,c=e.errors;return r.a.createElement(Oe.a,{component:"main",maxWidth:"xs"},r.a.createElement(O.a,null),"success"===n&&r.a.createElement(we,{variant:"success",msg:["Please check your e-mail"]}),"error"===n&&r.a.createElement(we,{variant:"error",msg:[c]}),"loading"!==n&&r.a.createElement("div",{className:t.paper},r.a.createElement(re.a,{className:t.avatar},r.a.createElement(Qt.a,null)),r.a.createElement(k.a,{component:"h1",variant:"h5",color:"primary"},"Send reset link"),r.a.createElement("form",{className:t.form},r.a.createElement(ce.a,{item:!0,xs:12},r.a.createElement(be.a,{name:"email",component:Se,label:"Email",type:"email",rows:"1"})),r.a.createElement(ce.a,{item:!0,xs:12},r.a.createElement(U.a,{className:t.submit,fullWidth:!0,variant:"contained",type:"submit",color:"primary",onClick:a},"Submit")))),"loading"===n&&r.a.createElement("div",{className:t.paper,style:{marginTop:"300px"}},r.a.createElement(ke.a,{color:"secondary"})))},aa={sendEmail:function(e){return{type:"SEND_EMAIL",data:e}}},na=Object(l.c)((function(e){return{form:e.form,status:e.resetPassword.status,errors:e.resetPassword.errors}}),aa,(function(e,t,a){return Object(o.a)({},e,{},t,{},a,{handleSubmit:a.handleSubmit((function(e){t.sendEmail(e)}))})}))(ta),ra=Object(Ne.a)({form:"ForgotPassword",validate:function(e){var t={};return["email"].forEach((function(a){e[a]||(t[a]="Required!")})),e.email&&!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)&&(t.email="Invalid email address"),t}})(na),ca=a(68),sa=a(79),oa=a(69),ia=a(91),la=a(92),ua=a(297),ma=a.n(ua),da=a(296),pa=a.n(da),Ea=Object(b.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"}}})),fa=function(e){var t=Ea();return r.a.createElement(Oe.a,{component:"main",maxWidth:"xs"},r.a.createElement(O.a,null),"loading"!==e.status&&r.a.createElement("div",{className:t.paper},r.a.createElement(k.a,{variant:"h4",color:"primary"},"Email confirmation"),"error"===e.status&&r.a.createElement(k.a,{variant:"h6",color:"error"},r.a.createElement(pa.a,null)," There was an error, please retry."),"success"===e.status&&r.a.createElement(k.a,{variant:"h6",color:"inherit"},r.a.createElement(ma.a,null)," Email verified successfully.",r.a.createElement("br",null),"You can now ",r.a.createElement(P.a,{to:"/login",style:{textDecoration:"none",color:"#3f51b5"}},"Login"))),"loading"===e.status&&r.a.createElement("div",{className:t.paper,style:{marginTop:"300px"}},r.a.createElement(ke.a,{color:"secondary"})))},ba=function(e){function t(){var e,a;Object(ca.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(oa.a)(this,(e=Object(ia.a)(t)).call.apply(e,[this].concat(r)))).componentDidMount=function(){var e=a.props.match.params.token;a.props.emailConfirm(e)},a}return Object(la.a)(t,e),Object(sa.a)(t,[{key:"render",value:function(){return r.a.createElement(fa,{status:this.props.status})}}]),t}(n.Component),ga={emailConfirmation:function(e){return{type:"EMAIL_CONFIRMATION",token:e}}},ha=Object(l.c)((function(e){return{status:e.register.emailConfirmation}}),ga,(function(e,t,a){return Object(o.a)({},e,{},t,{},a,{emailConfirm:function(e){t.emailConfirmation(e)}})}))(ba),Oa=Object(b.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2),backgroundColor:e.palette.secondary.main},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main}}})),va=function(e){var t=e.handleSubmit,a=e.status,n=e.resetPasswordStatus,c=e.resetError,s=Oa();return r.a.createElement(Oe.a,{component:"main",maxWidth:"xs"},r.a.createElement(O.a,null),"success"===n&&r.a.createElement(we,{variant:"success",msg:["Your password has been reset successfully! You will be redirected to login"]}),"error"===n&&r.a.createElement(we,{variant:"error",msg:[c+" You will be redirected to login"]}),"loading"!==a&&r.a.createElement("div",{className:s.paper},r.a.createElement(re.a,{className:s.avatar},r.a.createElement(he.a,null)),r.a.createElement(k.a,{component:"h1",variant:"h5",color:"primary"},"Reset password"),r.a.createElement("form",{className:s.form},r.a.createElement(ce.a,{container:!0,spacing:2},r.a.createElement(ce.a,{item:!0,xs:12},r.a.createElement(be.a,{name:"password",component:Se,label:"Password",type:"password",rows:"1"})),r.a.createElement(ce.a,{item:!0,xs:12},r.a.createElement(be.a,{name:"confirmPassword",component:Se,label:"ConfirmPassword",type:"password",rows:"1"})),r.a.createElement(ce.a,{item:!0,xs:12},r.a.createElement(U.a,{onClick:t,className:s.submit,fullWidth:!0,variant:"contained",type:"submit",color:"primary",name:"submit",value:"ok"},"Submit"))))),"loading"===a&&r.a.createElement("div",{className:s.paper,style:{marginTop:"300px"}},r.a.createElement(ke.a,{color:"secondary"})))},xa={resetPasswordAction:function(e){return{type:"RESET_PASSWORD",data:e}}},Sa=Object(l.c)((function(e){return{form:e.form,status:e.resetPassword.status,resetPasswordStatus:e.resetPassword.status,resetError:e.resetPassword.error}}),xa,(function(e,t,a){return Object(o.a)({},e,{},t,{},a,{handleSubmit:a.handleSubmit((function(e){var n={form:e,token:a.match.params.token};t.resetPasswordAction(n)}))})}))(va),ka=Object(Ne.a)({form:"resetPassword",destroyOnUnmount:!0,validate:function(e){var t={};return["password","confirmPassword"].forEach((function(a){e[a]&&e[a].trim()||(t[a]="Required !")})),e.password&&!/\d/.test(e.password)?t.password="Password must contain a number !":e.password&&!/[A-Z]/.test(e.password)?t.password="Password must contain an uppercase letter !":e.password&&!/[a-z]/.test(e.password)?t.password="Password must contain a lowercase letter !":e.password&&!/[ !@#$%^&*()_+\-=[\]{};':"\\|,.<>/?]/.test(e.password)?t.password="Password must contain a special character !":e.password&&!/[a-zA-Z0-9 !@#$%^&*()_+\-=[\]{};':"\\|,.<>/? ]{8,20}/.test(e.password)&&(t.password="Password must contain 8-20 characters !"),e.confirmPassword&&e.password!==e.confirmPassword&&(t.confirmPassword="Passwords does not match !"),t}})(Sa),ya=a(208),ja=a(609),wa=a(592),_a=a(602),Ca=a(581),Ra=a(162),Ia=a(600),Na=function(e){var t=e.input,a=e.meta,n=e.options,c=a.touched&&a.error;return r.a.createElement("div",null,n.map((function(e){return r.a.createElement("label",{key:e.value},r.a.createElement(Ia.a,Object.assign({},t,{checked:e.value===t.value,value:e.value})),e.title)})),r.a.createElement("br",null),c&&r.a.createElement("span",{style:{fontSize:"12px",color:"#f44336"}},a.error))},Ta=Object(b.a)((function(e){return{paper:{display:"flex",flexDirection:"column",alignItems:"center",width:"100%"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(2,0,2),backgroundColor:e.palette.secondary.main}}})),La=function(e){var t=e.input,a=e.label,n=e.meta,c=n.touched,s=n.error;return r.a.createElement(xe.a,Object.assign({},t,{type:"date",label:a,error:c&&s,helperText:c&&s,fullWidth:!0,InputLabelProps:{shrink:!0}}))},Aa=function(e){var t=Ta(),a=e.handleSubmit,n=e.selectLoading,c=e.selectOptions,s=e.selectError,o=e.createOption,i=function(e){o(e)};return r.a.createElement(Oe.a,{component:"main",maxWidth:"xs"},r.a.createElement(O.a,null),r.a.createElement("div",{className:t.paper},r.a.createElement(k.a,{component:"h1",variant:"h5",color:"primary"},"Additional infos"),s&&r.a.createElement(we,{variant:"error",msg:s}),r.a.createElement("form",{className:t.form},r.a.createElement(ce.a,{container:!0,spacing:2},r.a.createElement(ce.a,{item:!0,xs:12},r.a.createElement(Ca.a,{component:"legend"},"Gender"),r.a.createElement(be.a,{component:Na,name:"gender",required:!0,options:[{title:"Male",value:"male"},{title:"Female",value:"female"}]})),r.a.createElement(ce.a,{item:!0,xs:12},r.a.createElement(Ca.a,{component:"legend"},"Match with"),r.a.createElement(be.a,{component:Na,name:"sexOrient",required:!0,options:[{title:"Men ",value:"men"},{title:"Women",value:"women"},{title:"Both",value:"both"}]})),r.a.createElement(ce.a,{item:!0,xs:12},r.a.createElement(Ca.a,{component:"legend"},"Birthday"),r.a.createElement(be.a,{name:"birthday",component:La})),r.a.createElement(ce.a,{item:!0,xs:12},r.a.createElement(Ca.a,{component:"legend"},"Bio"),r.a.createElement(be.a,{name:"bio",component:Se,type:"text",rows:"4",variant:"outlined"})),r.a.createElement(ce.a,{item:!0,xs:12},r.a.createElement(Ca.a,{component:"legend"},"Interests"),r.a.createElement(be.a,{name:"interests",component:function(e){var t=e.input,a=e.meta,s=a.touched,o=a.error;return r.a.createElement("div",null,r.a.createElement(Ra.a,Object.assign({},t,{isMulti:!0,isDisabled:n,isLoading:n,isClearable:!1,options:c,onBlur:function(){return t.onBlur(t.value)},onChange:function(e){t.onChange(e)},onCreateOption:i})),r.a.createElement("div",null,s&&o&&r.a.createElement("div",{style:{fontSize:"12px",color:"rgb(244, 67, 54)"}},o)))}})),r.a.createElement(ce.a,{container:!0,direction:"row",item:!0,xs:12},r.a.createElement(ce.a,{item:!0,xs:9}),r.a.createElement(ce.a,{item:!0,container:!0,alignItems:"flex-end",xs:3},r.a.createElement(U.a,{onClick:a,className:t.submit,fullWidth:!0,variant:"contained",type:"submit",color:"primary",name:"submit",value:"ok"},"Next")))))))},Pa=function(e){var t=new Date,a=new Date(e),n=t.getFullYear()-a.getFullYear(),r=t.getMonth()-a.getMonth();return(r<0||0===r&&t.getDate()<a.getDate())&&n--,n},Ua={addInfo:function(e,t){return{type:"ADD_INFO",data:e,id:t}},createOption:bt},Da=Object(l.c)((function(e){return{values:e.form.values,selectOptions:e.addInfo.selectOptions,selectLoading:e.addInfo.selectLoading,selectError:e.addInfo.error,user:e.user}}),Ua,(function(e,t,a){return Object(o.a)({},e,{},t,{},a,{handleSubmit:a.handleSubmit((function(a){t.addInfo(a,e.user.id)}))})}))(Aa),Ma=Object(Ne.a)({form:"addInfo",destroyOnUnmount:!0,validate:function(e){var t={};["gender","sexOrient","birthday","bio"].forEach((function(a){e[a]&&e[a].trim()||(t[a]="Required !")})),["interests"].forEach((function(a){e[a]||(t[a]="Required !")})),e.bio&&!/^.{1,200}$/.test(e.bio)&&(t.bio="maximum 200 characters"),e.birthday&&!/([12]\d{3}-(0[1-9]|1[0-2])-(0[1-9]|[12]\d|3[01]))/.test(e.birthday)&&(t.birthday="Invalid date !");var a=Pa(e.birthday);return a<18&&(t.birthday="Come back when you're 18 ;)"),a>120&&(t.birthday="Invalid age !"),t}})(Da),Fa=Ma=Object(l.c)((function(e){return{initialValues:{gender:e.user.gender,sexOrient:e.user.sexOrient,birthday:e.user.birthday,bio:e.user.bio,interests:e.user.interests}}}))(Ma),Ga=a(298),Ba=a.n(Ga),Wa=a(590),Ha=a(591),Va=a(300),Ka=a.n(Va),qa=a(299),za=a.n(qa),Za=Object(b.a)((function(e){return{card:{height:150,position:"center"},input:{display:"none"},submit:{margin:e.spacing(2,0,2),backgroundColor:e.palette.secondary.main},root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden"},gridList:{width:500,height:450},titleBar:{background:"linear-gradient(to top, rgba(0,0,0,0.6) 0%, rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)"},delete:{background:"none"},add:{display:"none"}}})),$a=function(e){return!(null!=e&&e.length>4)},Ya=function(e){var t=e.fileChangedHandler,a=e.images,n=e.deletePicture,c=e.setProfilePicture,s=Za();return r.a.createElement(Oe.a,null,r.a.createElement(O.a,null),r.a.createElement(ce.a,{container:!0,justify:"center"},r.a.createElement("div",{className:!1===$a(a.images)?s.add:""},r.a.createElement("input",{accept:"image/*",className:s.input,id:"icon-button-file",type:"file",onChange:t}),r.a.createElement("label",{htmlFor:"icon-button-file"},r.a.createElement(j.a,{color:"primary","aria-label":"upload picture",component:"span"},r.a.createElement(Ba.a,{color:"primary",style:{fontSize:70}}))))),r.a.createElement("div",{className:s.root},r.a.createElement(Pe.a,{cellHeight:180,className:s.gridList},a.isImages&&a.images.map((function(e){return r.a.createElement(Wa.a,{key:e.id},r.a.createElement("img",{src:"http://localhost:5000/images/".concat(e.path),alt:"photos"}),r.a.createElement(Ha.a,{actionPosition:"left",className:s.titleBar,title:1===e.isProfilePic&&"Profile picture",actionIcon:r.a.createElement($e.a,{title:"set profile pic"},r.a.createElement(j.a,{"aria-label":"profilePic",onClick:function(t){return c(e.id)}},r.a.createElement(za.a,{color:"secondary"})))}),r.a.createElement(Ha.a,{className:s.delete,titlePosition:"top",actionIcon:a.images.length>1&&r.a.createElement($e.a,{title:"delete pic"},r.a.createElement(j.a,{"aria-label":"deletePic",onClick:function(t){return n(e.id,e.isProfilePic)}},r.a.createElement(Ka.a,{color:"secondary"})))}))})))))},Ja=function(e){return{type:"GET_IMAGES",user_id:e}},Xa={sendImages:function(e){return{type:"SEND_IMAGES",data:e}},delImages:function(e){return{type:"DEL_IMAGES",img:e}},setProfilePic:function(e){return{type:"SET_PROFILE_PIC",imgId:e}}},Qa=Object(l.c)((function(e){return{user:e.user,images:e.images}}),Xa)((function(e){var t=e.user,a=e.images,n=e.sendImages,c=e.delImages,s=e.setProfilePic;return r.a.createElement("div",null,r.a.createElement(Ya,{fileChangedHandler:function(e){var a=e.target.files[0],r=new FormData;r.append("files",a),r.append("user_id",t.id),n(r),e.target.value=null},images:a,deletePicture:function(e,t){c({imgId:e,isProfilePic:t})},setProfilePicture:function(e){s(e)}}))})),en=a(163),tn=a.n(en),an=a(164),nn=a.n(an),rn=Object(b.a)((function(e){return{paper:{display:"flex",flexDirection:"column",alignItems:"center",width:"100%"},form:{height:"40vh",width:"100%",marginTop:e.spacing(2)},submit:{margin:e.spacing(2,0,2),backgroundColor:e.palette.secondary.main}}})),cn=function(e){var t=e.userL,a=e.setLocation,c=e.isMarker,s=rn(),o=Object(n.useState)(t),l=Object(i.a)(o,2),u=l[0],m=l[1];return r.a.createElement(Oe.a,{component:"main",maxWidth:"xs"},r.a.createElement(O.a,null),r.a.createElement("div",{className:s.paper},r.a.createElement(k.a,{component:"h1",variant:"h5",color:"primary"},"Localisation"),r.a.createElement(k.a,{color:"inherit"}," Click to set your location."),r.a.createElement("div",{className:s.form},r.a.createElement(tn.a,{bootstrapURLKeys:{key:"AIzaSyBeEUF7eMgjoDA6n4pfupjcBByH11i7yY8"},center:{lat:t.lat,lng:t.lng},defaultZoom:13,onClick:function(e){var t=e.lat,n=e.lng;m({lat:t,lng:n}),a({lat:t,lng:n})}},u&&!0===c&&r.a.createElement((function(e){var t=e.text;return r.a.createElement("div",null,t)}),{lat:u.lat,lng:u.lng,text:r.a.createElement(nn.a,{color:"secondary"})})))))},sn=function(e){function t(){return Object(ca.a)(this,t),Object(oa.a)(this,Object(ia.a)(t).apply(this,arguments))}return Object(la.a)(t,e),Object(sa.a)(t,[{key:"componentDidMount",value:function(){this.props.getLoc()}},{key:"render",value:function(){var e=this,t={lat:this.props.user.lat,lng:this.props.user.long};return this.props.user.lat?r.a.createElement(cn,{isMarker:this.props.user.marker,setLocation:function(t){var a=t.lat,n=t.lng;e.props.addLocationSuccess({marker:!0,lat:a,lng:n})},userL:t}):null}}]),t}(n.Component),on={getLoc:vt,addLocationSuccess:St},ln=Object(l.c)((function(e){return{user:e.user}}),on)(sn),un=Object(b.a)((function(e){return{layout:Object(E.a)({width:"auto",minWidth:350,marginLeft:e.spacing(2),marginRight:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(2)),{width:600,marginLeft:"auto",marginRight:"auto"}),paper:Object(E.a)({marginTop:e.spacing(3),marginBottom:e.spacing(3),padding:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(3)),{marginTop:e.spacing(8),marginBottom:e.spacing(6),padding:e.spacing(3)}),stepper:{minWidth:0,padding:e.spacing(3,0,5)},buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)},loading:{display:"flex",flexDirection:"column",alignItems:"center"},submit:{margin:e.spacing(2,0,2),backgroundColor:e.palette.secondary.main},back:{margin:e.spacing(2,0,2),backgroundColor:e.palette.grey}}})),mn=["Additional infos","Pictures","Localisation"];var dn=function(e){var t=e.handleBack,a=e.handleNext,n=e.user,c=e.images,s=n.complete,o=un();return r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,null),"loading"!==s&&r.a.createElement("main",{className:o.layout},r.a.createElement(ya.a,{className:o.paper},r.a.createElement(k.a,{component:"h1",variant:"h4",align:"center",color:"secondary"},"Complete profile"),r.a.createElement(ja.a,{activeStep:s,className:o.stepper},mn.map((function(e){return r.a.createElement(wa.a,{key:e},r.a.createElement(_a.a,null,e))}))),r.a.createElement(r.a.Fragment,null,s===mn.length?r.a.createElement(r.a.Fragment,null,r.a.createElement(k.a,{variant:"h5",gutterBottom:!0},"Success"),r.a.createElement(k.a,{variant:"subtitle1"},"You completed your profile successfully.")):r.a.createElement(r.a.Fragment,null,function(e){switch(e){case 0:return r.a.createElement(Fa,null);case 1:return r.a.createElement(Qa,null);case 2:return r.a.createElement(ln,null);default:throw new Error("Unknown step")}}(s))),(1===s||2===s)&&r.a.createElement(ce.a,{container:!0,direction:"row",item:!0,xs:12},r.a.createElement(ce.a,{item:!0,xs:3},r.a.createElement(U.a,{className:o.back,fullWidth:!0,onClick:t,variant:"contained",type:"submit",color:"default"},"Back")),r.a.createElement(ce.a,{item:!0,xs:6}),r.a.createElement(ce.a,{item:!0,container:!0,alignItems:"flex-end",xs:3},!0===c.isImages&&r.a.createElement(U.a,{className:o.submit,onClick:a,fullWidth:!0,variant:"contained",type:"submit",color:"primary"},"Next"))))),"loading"===s&&r.a.createElement("div",{className:o.loading},r.a.createElement(ke.a,{color:"secondary"})))},pn={getOptions:Et,getImages:Ja,decStepper:function(){return{type:"DEC_STEPPER"}},incStepper:function(){return{type:"INC_STEPPER"}},addLocation:xt},En=Object(l.c)((function(e){return{user:e.user,images:e.images}}),pn)((function(e){var t=e.user,a=e.images,c=e.getImages,s=e.getOptions,o=e.decStepper,i=e.incStepper,l=e.addLocation;Object(n.useEffect)((function(){t&&(s(),c(t.id))}),[s,c,t]);return r.a.createElement(dn,{handleBack:function(){o()},handleNext:function(){2===t.complete&&l({lat:t.lat,lng:t.long}),i()},user:t,images:a})})),fn=a(599),bn=a(593),gn=a(303),hn=a.n(gn),On=a(301),vn=a.n(On),xn=a(168),Sn=a(302),kn=a.n(Sn),yn=a(304),jn=a.n(yn),wn=Object(b.a)((function(e){return{root:{padding:"10px",boxShadow:3},card:{maxWidth:400,maxHeight:600,borderRadius:"20px",backgroundColor:"#E6EAEA"},cardMedia:{maxWidth:400,maxHeight:250},cardHeader:{maxWidth:400,maxHeight:100},cardContent:{maxWidth:400,maxHeight:200},cardAction:{maxWidth:400,maxHeight:50},avatarON:{backgroundColor:"#00FB0C",width:15,height:15},avatarOF:{backgroundColor:"#e42416",width:15,height:15},chip:{marginRight:"5px"}}}));function _n(e){var t=e.user,a=e.images,n=e.interests,c=wn(),s=t.rating,o={Swiper:At.c,modules:[At.a,At.b],pagination:{el:".swiper-pagination",type:"bullets",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},spaceBetween:30};return r.a.createElement(ce.a,{container:!0,justify:"center"},r.a.createElement(Ue.a,{className:c.card},r.a.createElement(De.a,{className:c.cardHeader,action:r.a.createElement(Be.a,{component:"fieldset",mb:3,borderColor:"transparent"},r.a.createElement("div",{className:c.rating1},r.a.createElement(We.a,{name:"read-only",value:s,precision:.5,readOnly:!0}))),avatar:r.a.createElement(re.a,{"aria-label":"recipe",className:1===t.isOnline?c.avatarON:c.avatarOF}),title:t.firstname+" "+t.lastname,subheader:1===t.isOnline?"Online":"Offline"+t.lastSignIn}),r.a.createElement(Me.a,{className:c.cardMedia,children:r.a.createElement(Lt.a,o,a.isImages?a.images.map((function(e){return r.a.createElement("div",{key:e.id},r.a.createElement("img",{style:{width:"100%",height:"250px"},src:"http://localhost:5000/images/".concat(e.path),alt:"images"}))})):r.a.createElement("img",{style:{width:"100%",height:"250px"},src:Ve.a,alt:"images"}))}),r.a.createElement(Fe.a,{className:c.cardContent},r.a.createElement(k.a,null,r.a.createElement("strong",null,"AGE :"),t.age),r.a.createElement(k.a,{component:"span"},r.a.createElement("strong",null,"INTERESTS :")," ",null!=n&&n.map((function(e,t){return r.a.createElement(Dt.a,{key:t,className:c.chip,label:e.value})}))),r.a.createElement(k.a,null,r.a.createElement("strong",null,"BIO :")," ",t.bio)),r.a.createElement(Ge.a,{disableSpacing:!0,className:c.cardContent},r.a.createElement(j.a,{"aria-label":"add to favorites"},r.a.createElement(Je.a,{color:"secondary"})),r.a.createElement(j.a,{"aria-label":"share"},r.a.createElement(qe.a,{color:"secondary"})),r.a.createElement(j.a,{"aria-label":"share"},r.a.createElement(Ut.a,{color:"secondary"})))))}var Cn=Object(l.c)((function(e){return{user:e.user,images:e.images}}),{})((function(e){var t=e.user,a=e.images;return r.a.createElement("div",null,r.a.createElement(_n,{user:t,images:a,interests:t.interests}))})),Rn=Object(b.a)((function(e){return{paper:{display:"flex",flexDirection:"column",alignItems:"center",width:"100%"},form:{height:"40vh",width:"100%",marginTop:e.spacing(2)},submit:{margin:e.spacing(2,0,2),backgroundColor:e.palette.secondary.main}}})),In=function(e){var t=e.userL,a=e.setLocation,c=e.isMarker,s=e.handleSubmit,o=Rn(),l=Object(n.useState)(t),u=Object(i.a)(l,2),m=u[0],d=u[1];return r.a.createElement(Oe.a,{component:"main",maxWidth:"xs"},r.a.createElement(O.a,null),r.a.createElement("div",{className:o.paper},r.a.createElement(k.a,{component:"h1",variant:"h5",color:"primary"},"Localisation"),r.a.createElement(k.a,{color:"inherit"}," Click to set your location."),r.a.createElement("div",{className:o.form},r.a.createElement(tn.a,{bootstrapURLKeys:{key:"AIzaSyBeEUF7eMgjoDA6n4pfupjcBByH11i7yY8"},center:{lat:t.lat,lng:t.lng},defaultZoom:13,onClick:function(e){var t=e.lat,n=e.lng;d({lat:t,lng:n}),a({lat:t,lng:n})}},m&&!0===c&&r.a.createElement((function(e){var t=e.text;return r.a.createElement("div",null,t)}),{lat:m.lat,lng:m.lng,text:r.a.createElement(nn.a,{color:"secondary"})}))),r.a.createElement(U.a,{onClick:s,className:o.submit,fullWidth:!0,variant:"contained",type:"submit",color:"primary",name:"submit",value:"ok"},"Submit")))},Nn=function(e){function t(){return Object(ca.a)(this,t),Object(oa.a)(this,Object(ia.a)(t).apply(this,arguments))}return Object(la.a)(t,e),Object(sa.a)(t,[{key:"componentDidMount",value:function(){this.props.getLoc()}},{key:"render",value:function(){var e=this,t={lat:this.props.user.lat,lng:this.props.user.long};return this.props.user.lat?r.a.createElement(In,{isMarker:this.props.user.marker,setLocation:function(t){var a=t.lat,n=t.lng;e.props.addLocationSuccess({marker:!0,lat:a,lng:n})},userL:t,handleSubmit:function(){e.props.addLocation({lat:e.props.user.lat,lng:e.props.user.long})}}):null}}]),t}(n.Component),Tn={getLoc:vt,addLocationSuccess:St,addLocation:xt},Ln=Object(l.c)((function(e){return{user:e.user}}),Tn)(Nn),An=Object(b.a)((function(e){return{paper:{display:"flex",flexDirection:"column",alignItems:"center",width:"100%"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(2,0,2),backgroundColor:e.palette.secondary.main}}})),Pn=function(e){var t=e.input,a=e.label,n=e.meta,c=n.touched,s=n.error;return r.a.createElement(xe.a,Object.assign({},t,{type:"date",label:a,error:c&&!!s,helperText:c&&s,fullWidth:!0,InputLabelProps:{shrink:!0}}))},Un=function(e){var t=e.handleSubmit,a=e.selectLoading,n=e.selectOptions,c=e.selectError,s=e.createOption,o=An(),i=function(e){s(e)};return r.a.createElement("div",null,c&&r.a.createElement(we,{msg:c,variant:"error"}),r.a.createElement("form",null,r.a.createElement(ce.a,{container:!0,justify:"center",spacing:2},r.a.createElement(ce.a,{item:!0,xs:5},r.a.createElement(Ca.a,{component:"legend"},"Firstname"),r.a.createElement(be.a,{name:"firstname",component:Se,type:"text",rows:"1"})),r.a.createElement(ce.a,{item:!0,xs:5},r.a.createElement(Ca.a,{component:"legend"},"Lastname"),r.a.createElement(be.a,{name:"lastname",component:Se,type:"text",rows:"1"})),r.a.createElement(ce.a,{item:!0,xs:5},r.a.createElement(Ca.a,{component:"legend"},"Username"),r.a.createElement(be.a,{name:"username",component:Se,type:"text",rows:"1"})),r.a.createElement(ce.a,{item:!0,xs:5},r.a.createElement(Ca.a,{component:"legend"},"Email"),r.a.createElement(be.a,{name:"email",component:Se,type:"email",rows:"1"})),r.a.createElement(ce.a,{item:!0,xs:5},r.a.createElement(Ca.a,{component:"legend"},"Gender"),r.a.createElement(be.a,{component:Na,name:"gender",required:!0,options:[{title:"Male",value:"male"},{title:"Female",value:"female"}]})),r.a.createElement(ce.a,{item:!0,xs:5},r.a.createElement(Ca.a,{component:"legend"},"Birthday"),r.a.createElement(be.a,{name:"birthday",component:Pn})),r.a.createElement(ce.a,{item:!0,xs:5},r.a.createElement(Ca.a,{component:"legend"},"Match with"),r.a.createElement(be.a,{component:Na,name:"sexOrient",required:!0,options:[{title:"Men ",value:"men"},{title:"Women",value:"women"},{title:"Both",value:"both"}]})),r.a.createElement(ce.a,{item:!0,xs:5},r.a.createElement(Ca.a,{component:"legend"},"Interests"),r.a.createElement(be.a,{name:"interests",component:function(e){var t=e.input,c=e.meta,s=c.touched,o=c.error;return r.a.createElement("div",null,r.a.createElement(Ra.a,Object.assign({},t,{isMulti:!0,isDisabled:a,isLoading:a,isClearable:!1,options:n,onBlur:function(){return t.onBlur(t.value)},onChange:function(e){t.onChange(e)},onCreateOption:i})),r.a.createElement("div",null,s&&o&&r.a.createElement("div",{style:{fontSize:"12px",color:"rgb(244, 67, 54)"}},o)))}})),r.a.createElement(ce.a,{item:!0,xs:10},r.a.createElement(Ca.a,{component:"legend"},"Bio"),r.a.createElement(be.a,{name:"bio",component:Se,type:"text",rows:"4",variant:"outlined"})),r.a.createElement(ce.a,{item:!0,xs:5},r.a.createElement(Ca.a,{component:"legend"},"New password"),r.a.createElement(be.a,{name:"password",component:Se,type:"password",rows:"1"})),r.a.createElement(ce.a,{item:!0,xs:5},r.a.createElement(Ca.a,{component:"legend"},"Confirm new password"),r.a.createElement(be.a,{name:"confirmPassword",component:Se,type:"password",rows:"1"})),r.a.createElement(ce.a,{item:!0,container:!0,justify:"center",xs:3},r.a.createElement(U.a,{onClick:t,className:o.submit,fullWidth:!0,variant:"contained",type:"submit",color:"primary",name:"submit",value:"ok"},"Submit")))))},Dn=function(e){return r.a.createElement(Un,{handleSubmit:e.handleSubmit,selectLoading:e.selectLoading,selectOptions:e.selectOptions,selectError:e.selectError,createOption:e.createOption})},Mn={editInfo:function(e){return{type:"EDIT_INFO",data:e}},createOption:bt};Dn=Object(l.c)((function(e){return{user:e.user,selectOptions:e.addInfo.selectOptions,selectLoading:e.addInfo.selectLoading,selectError:e.addInfo.error}}),Mn,(function(e,t,a){return Object(o.a)({},e,{},t,{},a,{handleSubmit:a.handleSubmit((function(e){t.editInfo(e),delete e.password,delete e.confirmPassword}))})}))(Dn),Dn=Object(Ne.a)({form:"profileInfo",validate:function(e){var t={};["firstname","lastname","username","email","gender","birthday","sexOrient","bio"].forEach((function(a){e[a]&&e[a].trim()||(t[a]="Required !")})),["interests"].forEach((function(a){e[a]||(t[a]="Required !")})),e.bio&&!/^.{1,200}$/.test(e.bio)&&(t.bio="maximum 200 characters"),e.birthday&&!/([12]\d{3}-(0[1-9]|1[0-2])-(0[1-9]|[12]\d|3[01]))/.test(e.birthday)&&(t.birthday="Invalid date !");var a=Pa(e.birthday);return a<18&&(t.birthday="Come back when you're 18 ;)"),a>120&&(t.birthday="Invalid age !"),e.username&&!/^[a-z0-9_-]{2,20}$/.test(e.username)&&(t.username='Username can contain 2-20 characters, letters (a-z), numbers, "_" and "-"'),e.email&&!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)&&(t.email="Invalid email address !"),e.password&&!/\d/.test(e.password)?t.password="Password must contain a number !":e.password&&!/[A-Z]/.test(e.password)?t.password="Password must contain an uppercase letter !":e.password&&!/[a-z]/.test(e.password)?t.password="Password must contain a lowercase letter !":e.password&&!/[ !@#$%^&*()_+\-=[\]{};':"\\|,.<>/?]/.test(e.password)?t.password="Password must contain a special character !":e.password&&!/[a-zA-Z0-9 !@#$%^&*()_+\-=[\]{};':"\\|,.<>/? ]{8,20}/.test(e.password)&&(t.password="Password must contain at least 8 characters !"),"password"in e&&!e.confirmPassword&&(t.confirmPassword="Required !"),e.confirmPassword&&e.password!==e.confirmPassword&&(t.confirmPassword="Passwords does not match !"),t}})(Dn);var Fn=Dn=Object(l.c)((function(e){return{initialValues:{firstname:e.user.firstname,lastname:e.user.lastname,username:e.user.username,email:e.user.email,gender:e.user.gender,birthday:e.user.birthday,sexOrient:e.user.sexOrient,interests:e.user.interests,bio:e.user.bio}}}))(Dn),Gn=Object(b.a)((function(e){return{root1:{flexGrow:1},card:{maxWidth:500},avatar:{backgroundColor:xn.a[500],width:150,height:150},root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:e.palette.background.paper},gridList:{width:500,height:450}}}));function Bn(e){var t=e.children,a=e.value,n=e.index,c=Object(ve.a)(e,["children","value","index"]);return r.a.createElement(k.a,Object.assign({component:"div",role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},c),a===n&&r.a.createElement(Be.a,{p:3},t))}function Wn(){var e=r.a.useState(0),t=Object(i.a)(e,2),a=t[0],n=t[1],c=Gn();return r.a.createElement(r.a.Fragment,null,r.a.createElement(ce.a,{container:!0,justify:"center"},r.a.createElement(ce.a,{item:!0,xs:12,sm:12},r.a.createElement(ya.a,{square:!0,className:c.root1},r.a.createElement(fn.a,{value:a,onChange:function(e,t){n(t)},variant:"fullWidth",indicatorColor:"primary",textColor:"secondary"},r.a.createElement(bn.a,{icon:r.a.createElement(vn.a,null),label:"INFOS",id:"0"}),r.a.createElement(bn.a,{icon:r.a.createElement(kn.a,null),label:"PHOTOS",id:"1"}),r.a.createElement(bn.a,{icon:r.a.createElement(hn.a,null),label:"LOCALISATION",id:"2"}),r.a.createElement(bn.a,{icon:r.a.createElement(jn.a,null),label:"VIEW PROFILE",id:"3"})),r.a.createElement(Bn,{value:a,index:0},r.a.createElement(Fn,null)),r.a.createElement(Bn,{value:a,index:1},r.a.createElement(Qa,null)),r.a.createElement(Bn,{value:a,index:2},r.a.createElement(Ln,null)),r.a.createElement(Bn,{value:a,index:3},r.a.createElement(Cn,null))))))}var Hn={getImages:Ja,getOptions:Et},Vn=Object(l.c)((function(e){return{user:e.user}}),Hn)((function(e){var t=e.user,a=e.getImages,c=e.getOptions;return Object(n.useEffect)((function(){t&&(c(),a(t.id))}),[a,c,t]),r.a.createElement("div",null,r.a.createElement(Wn,null))})),Kn=a(594),qn=Object(b.a)((function(e){return{root:{width:"100%",maxWidth:360,position:"relative",overflow:"auto",maxHeight:550,borderRadius:"15px",backgroundColor:"#E6EAEA",margin:"10px"},large:{width:75,height:75,margin:10}}}));function zn(e){var t=e.blockList,a=e.handleDeblock,n=e.likeList,c=e.handleDislike,s=qn();return r.a.createElement(r.a.Fragment,null,r.a.createElement(ce.a,{container:!0,justify:"center"},r.a.createElement(S.a,{className:s.root},r.a.createElement(k.a,{component:"h1",variant:"h4",align:"center",color:"primary"},"You blocked"),!0===t.isUsers&&t.users.map((function(e){return r.a.createElement(T.a,{key:e.id,button:!0},r.a.createElement(ne.a,null,r.a.createElement(re.a,{className:s.large,alt:"Avatar",src:"http://localhost:5000/images/".concat(e.profilePic)})),r.a.createElement(A.a,{id:e.id},e.firstname+"  "+e.lastname),r.a.createElement(Kn.a,null,r.a.createElement($e.a,{title:"Unblock"},r.a.createElement(j.a,{"aria-label":"unblock",onClick:function(t){return a(e.id)}},r.a.createElement(qe.a,{color:"secondary"})))))}))),r.a.createElement(S.a,{className:s.root},r.a.createElement(k.a,{component:"h1",variant:"h4",align:"center",color:"primary"},"You liked"),!0===n.isUsers&&n.users.map((function(e){return r.a.createElement(T.a,{key:e.id,button:!0},r.a.createElement(ne.a,null,r.a.createElement(re.a,{className:s.large,alt:"Avatar",src:"http://localhost:5000/images/".concat(e.profilePic)})),r.a.createElement(A.a,{id:e.id},e.firstname+"  "+e.lastname),r.a.createElement(Kn.a,null,"iLike"===e.like&&r.a.createElement($e.a,{title:"Unlike"},r.a.createElement(j.a,{"aria-label":"Unlike",onClick:function(t){return c(e.id)}},r.a.createElement(Je.a,{color:"secondary"}))),"match"===e.like&&r.a.createElement($e.a,{title:"Unmatch"},r.a.createElement(j.a,{"aria-label":"Unmatch",onClick:function(t){return c(e.id)}},r.a.createElement(nt.a,{color:"primary"})))))})))))}var Zn={getBlockUser:function(){return{type:"GET_BLOCK_USER"}},deblockUser:function(e){return{type:"DEBLOCK_USER",deblocked_user_id:e}},getLikeUser:function(){return{type:"GET_LIKE_USER"}},dislikeUserAct:function(e){return{type:"DISLIKE_USER_ACT",dislike_user_id:e}}},$n=Object(l.c)((function(e){return{user:e.user,blockList:e.blockList,likeList:e.likeList}}),Zn)((function(e){var t=e.getBlockUser,a=e.blockList,c=e.deblockUser,s=e.getLikeUser,o=e.dislikeUserAct,i=e.likeList;Object(n.useEffect)((function(){t(),s()}),[t,s]);return r.a.createElement("div",null,r.a.createElement(zn,{blockList:a,handleDeblock:function(e){c(e)},handleDislike:function(e){o(e)},likeList:i}))})),Yn=(a(460),function(e){var t=e.handleSelectConversation,a=e.selected,n=e.conversations;return r.a.createElement("div",{id:"sidepanel"},r.a.createElement("div",{id:"contacts"},r.a.createElement("ul",null,a&&n.map((function(e){return r.a.createElement("li",{onClick:function(){return t(e.id)},key:e.id,className:a.id===e.id?"contact active":"contact"},r.a.createElement("div",{className:"wrap"},r.a.createElement("span",{className:1===e.isOnline?"contact-status online":"contact-status offline"}),r.a.createElement("img",{src:"http://localhost:5000/images/".concat(e.path),alt:e.lastname}),r.a.createElement("div",{className:"meta"},r.a.createElement("p",{className:"name"},e.firstname," ",e.lastname))))})))))}),Jn=function(e){var t=e.selected;return r.a.createElement("div",{className:"contact-profile"},r.a.createElement("img",{src:"http://localhost:5000/images/".concat(t.path),alt:t.lastname}),r.a.createElement("p",null,t.firstname," ",t.lastname))},Xn=function(e){var t=e.selected;return r.a.createElement("div",{className:"messages"},r.a.createElement("ul",null,t.messages&&t.messages.length>0&&t.messages.map((function(e){return r.a.createElement("li",{key:Math.random(),className:e.isMyMessage?"sent":"replies"},r.a.createElement("img",{src:"http://localhost:5000/images/".concat(e.path),alt:e.image}),r.a.createElement("p",null,e.message))}))))},Qn=function(e){var t=e.handleSendMessage,a=e.selected,c=e.dis,s=Object(n.useState)(""),o=Object(i.a)(s,2),l=o[0],u=o[1];return r.a.createElement("div",{className:"message-input"},r.a.createElement("div",{className:"wrap"},r.a.createElement("form",{onSubmit:function(e){if(e.preventDefault(),l.length>255)u("");else if(l){t(a.id,l);var n=document.querySelector(".messages"),r=n.scrollHeight;n.scrollTo(0,r),u("")}document.querySelector(".message-input input").value=null}},r.a.createElement("input",{onChange:function(e){return u(e.target.value)},type:"text",placeholder:"Write your message...",disabled:c}),r.a.createElement("button",{type:"submit",className:"submit"},"Send"))))},er=function(e){var t=e.handleSendMessage,a=e.selected,n=e.dis;return r.a.createElement("div",{className:"content"},Object.keys(a).length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement(Jn,{selected:a}),r.a.createElement(Xn,{selected:a}),r.a.createElement(Qn,{dis:n,handleSendMessage:t,selected:a})):r.a.createElement("p",{id:"selectCon"},"Select a conversation"))},tr=function(e){var t=e.handleSelectConversation,a=e.err,n=e.handleSendMessage,c=e.selected,s=e.conversations,o=!1;return a&&(o=!0),r.a.createElement("div",{id:"frame"},a&&r.a.createElement(we,{variant:"error",msg:[a]}),s.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement(Yn,{handleSelectConversation:t,selected:c,conversations:s}),r.a.createElement(er,{dis:o,handleSendMessage:n,selected:c,conversations:s})):r.a.createElement("p",{id:"noMatches"},"No matches"))},ar=function(e){return{type:"GET_CONVERSATIONS_SUCCESS",data:e}},nr=function(e,t){return{type:"LOAD_MESSAGES_SUCCESS",data:e,conv_id:t}},rr=function(e,t){return{type:"SEND_MESSAGE_ERROR",conv_id:e,err:t}},cr=a(305),sr=a.n(cr)()("http://localhost:5000"),or={selectConversation:function(e){return{type:"SELECT_CONVERSATION",id:e}},sendMessage:function(e,t,a){return{type:"SEND_MESSAGE",id:e,profilePic:t,message:a}},sendMsgSuccess:function(e,t,a){return{type:"SEND_MESSAGE_SUCCESS",id:e,profilePic:t,message:a}},getConversations:function(){return{type:"GET_CONVERSATIONS"}},loadMessages:function(e){return{type:"LOAD_MESSAGES",conv_id:e}},reset:_t,receiveMsg:function(e){return{type:"RECEIVE_MESSAGE",data:e}}},ir=Object(l.c)((function(e){return{user:e.user,selectedConversation:e.chat.selectedConversation,conversations:e.chat.conversations,err:e.chat.err}}),or)((function(e){var t=e.sendMsgSuccess,a=e.reset,c=e.user,s=e.err,o=e.getConversations,i=e.selectedConversation,l=e.conversations,u=e.selectConversation,m=e.loadMessages,d=e.sendMessage,p=e.receiveMsg;Object(n.useEffect)((function(){return c&&o(),sr.on("new_msg",(function(e){p(e);var t=document.querySelector(".messages");if(t){var a=t.scrollHeight;t.scrollTo(0,a)}})),sr.on("received",(function(e){t(e.receiver,e.profilePic,e.message);var a=document.querySelector(".messages");if(a){var n=a.scrollHeight;a.scrollTo(0,n)}})),function(){return a()}}),[]);return r.a.createElement(tr,{handleSelectConversation:function(e){u(e),m(e)},handleSendMessage:function(e,t){d(e,c.profilePic,t)},selected:i,conversations:l,err:s})})),lr=Object(l.c)((function(e){return{user:e.user,notifList:e.notif.notifications}}),{})((function(e){var t=e.notifList;return Object(n.useEffect)((function(){}),[]),r.a.createElement("div",null,r.a.createElement(oe,{notifList:t}))})),ur=function(){return r.a.createElement("div",null,r.a.createElement("p",null,"Home"))},mr=Object(l.c)((function(e){return{user:e.user,notif:e.notif.current_notif}}))((function(e){var t=e.user,a=e.notif;return r.a.createElement(r.a.Fragment,null,a&&r.a.createElement(we,{variant:"info",msg:[a]}),r.a.createElement(fe.c,null,r.a.createElement(fe.a,{exact:!0,path:"/confirmation/:token",component:null===t?ha:ur}),r.a.createElement(fe.a,{exact:!0,path:"/resetPassword/:token",component:null===t?ka:ur}),r.a.createElement(fe.a,{exact:!0,path:"/forgotPassword",component:null===t?ra:ur}),r.a.createElement(fe.a,{exact:!0,path:"/register",component:null===t?Ae:ur}),r.a.createElement(fe.a,{exact:!0,path:"/login",component:null===t?qt:ur}),r.a.createElement(fe.a,{exact:!0,path:"/home",component:ur}),r.a.createElement(fe.a,{exact:!0,path:"/profile",component:null!==t?3===t.complete?Vn:En:qt}),r.a.createElement(fe.a,{exact:!0,path:"/activity",component:null!==t?3===t.complete?$n:En:qt}),r.a.createElement(fe.a,{exact:!0,path:"/chat",component:null!==t?3===t.complete?ir:En:qt}),r.a.createElement(fe.a,{exact:!0,path:"/notif",component:null!==t?3===t.complete?lr:En:qt}),r.a.createElement(fe.a,{exact:!0,path:"/browse",component:null!==t?3===t.complete?Bt:En:qt}),r.a.createElement(fe.a,{exact:!0,path:"/search",component:null!==t?3===t.complete?Bt:En:qt}),r.a.createElement(fe.a,{exact:!0,path:"/completeProfile",component:null!==t?En:qt}),r.a.createElement(fe.a,{path:"",component:$t})))}));var dr=function(e){return Object(n.useEffect)((function(){e.store.dispatch(p());sr.on("new_notif",(function(t){e.store.dispatch(d(t))})),sr.on("openedNotif",(function(){e.store.dispatch(m())}))}),[]),sr.on("connect",(function(){e.store.dispatch({type:"REJOIN_ROOM"})})),r.a.createElement("div",{className:"App"},r.a.createElement(le,null),r.a.createElement(mr,null),r.a.createElement(Ee,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var pr=a(26),Er=a(308),fr=a(10),br=a.n(fr),gr=a(2),hr=a(80),Or=a(94),vr=a.n(Or),xr=br.a.mark(yr),Sr=br.a.mark((function e(t){var a,n;return br.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,e.prev=1,e.next=4,vr.a.post("http://localhost:5000/register",a);case 4:if(!(n=e.sent).data.isValid){e.next=12;break}return e.next=8,Object(gr.e)(Re(a));case 8:return e.next=10,Object(gr.e)(Object(hr.push)("/login"));case 10:e.next=24;break;case 12:if(!n.data.errUsername||n.data.errEmail){e.next=17;break}return e.next=15,Object(gr.e)(Ie(n.data.errUsername));case 15:e.next=24;break;case 17:if(!n.data.errEmail||n.data.errUsername){e.next=22;break}return e.next=20,Object(gr.e)(Ie(n.data.errEmail));case 20:e.next=24;break;case 22:return e.next=24,Object(gr.e)(Ie("Username and email already exist"));case 24:return e.next=26,Object(gr.c)(4e3);case 26:return e.next=28,Object(gr.e)({type:"RESET_STATE"});case 28:e.next=35;break;case 30:if(e.prev=30,e.t0=e.catch(1),!e.t0.response){e.next=35;break}return e.next=35,Object(gr.e)(Ie("error.response.statusText"));case 35:case"end":return e.stop()}}),e,null,[[1,30]])})),kr=br.a.mark((function e(t){var a,n;return br.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.token,e.prev=1,e.next=4,vr.a.post("http://localhost:5000/confirmEmail",{token:a});case 4:if("success"!==(n=e.sent).data){e.next=10;break}return e.next=8,Object(gr.e)({type:"EMAIL_CONFIRMATION_SUCCESS"});case 8:e.next=13;break;case 10:if("error"!==n.data){e.next=13;break}return e.next=13,Object(gr.e)({type:"EMAIL_CONFIRMATION_ERROR"});case 13:e.next=20;break;case 15:if(e.prev=15,e.t0=e.catch(1),!e.t0.response){e.next=20;break}return e.next=20,Object(gr.e)({type:"EMAIL_CONFIRMATION_ERROR"});case 20:case"end":return e.stop()}}),e,null,[[1,15]])}));function yr(){return br.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(gr.g)("INSCRIPTION_USER",Sr);case 2:return e.next=4,Object(gr.g)("EMAIL_CONFIRMATION",kr);case 4:case"end":return e.stop()}}),xr)}var jr=function(e,t){return vr()(Object(o.a)({},e,{headers:{Authorization:t}}))},wr=br.a.mark(Cr),_r=br.a.mark((function e(t){var a,n,r,c,s;return br.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,e.prev=1,n=a.username,r=a.password,e.next=6,Object(gr.b)(jr,{url:"http://localhost:5000/login",data:{username:n,password:r},method:"post"});case 6:if(!(c=e.sent).data.isValid){e.next=25;break}return s=c.data.user,e.next=11,Object(gr.e)({type:"LOGIN_USER_SUCCESS"});case 11:return e.next=13,Object(gr.e)(kt(s));case 13:if(sr.emit("join",{id:s.id}),3!==s.complete){e.next=21;break}return e.next=17,Object(gr.e)(p());case 17:return e.next=19,Object(gr.e)(Object(hr.push)("/home"));case 19:e.next=23;break;case 21:return e.next=23,Object(gr.e)(Object(hr.push)("/completeProfile"));case 23:e.next=31;break;case 25:return e.next=27,Object(gr.e)({type:"LOGIN_USER_ERROR_FIELD",errorField:c.data.errorField});case 27:return e.next=29,Object(gr.c)(4e3);case 29:return e.next=31,Object(gr.e)({type:"RESET_STATE"});case 31:e.next=38;break;case 33:if(e.prev=33,e.t0=e.catch(1),!e.t0.response){e.next=38;break}return e.next=38,Object(gr.e)({type:"LOGIN_USER_ERROR",error:"error.response.statusText"});case 38:case"end":return e.stop()}}),e,null,[[1,33]])}));function Cr(){return br.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(gr.g)("LOGIN_USER",_r);case 2:case"end":return e.stop()}}),wr)}var Rr=br.a.mark(Nr),Ir=br.a.mark((function e(){var t,a;return br.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(gr.f)((function(e){return e.user.id}));case 3:return t=e.sent,e.next=6,Object(gr.f)((function(e){return e.user.token}));case 6:return a=e.sent,e.next=9,Object(gr.b)(jr,{url:"http://localhost:5000/logout",data:{id:t},method:"post"},a);case 9:if(!e.sent){e.next=15;break}return e.next=13,Object(gr.e)({type:"CLEAR_USER_INFORMATION"});case 13:return e.next=15,Object(gr.e)(Object(hr.push)("/home"));case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),console.log(e.t0);case 20:case"end":return e.stop()}}),e,null,[[0,17]])}));function Nr(){return br.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(gr.g)(u,Ir);case 2:case"end":return e.stop()}}),Rr)}var Tr=br.a.mark(Pr),Lr=br.a.mark((function e(t){var a,n;return br.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,e.prev=1,e.next=4,vr.a.post("http://localhost:5000/resetPassword",{token:a.token,pass:a.form.password,c_pass:a.form.confirmPassword});case 4:if(!(n=e.sent).data.reset){e.next=10;break}return e.next=8,Object(gr.e)({type:"RESET_PASSWORD_SUCCESS"});case 8:e.next=12;break;case 10:return e.next=12,Object(gr.e)(Jt(n.data.error));case 12:return e.next=14,Object(gr.c)(4e3);case 14:return e.next=16,Object(gr.e)({type:"RESET_STATE"});case 16:return e.next=18,Object(gr.e)(Object(hr.push)("/login"));case 18:e.next=25;break;case 20:if(e.prev=20,e.t0=e.catch(1),!e.t0.response){e.next=25;break}return e.next=25,Object(gr.e)(Jt("Error, please retry"));case 25:case"end":return e.stop()}}),e,null,[[1,20]])})),Ar=br.a.mark((function e(t){var a;return br.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,vr.a.post("http://localhost:5000/sendResetEmail",{email:t.data.email});case 3:if(!(a=e.sent).data.sent){e.next=9;break}return e.next=7,Object(gr.e)({type:"SEND_EMAIL_SUCCESS"});case 7:e.next=12;break;case 9:if("Email not found"!==a.data.error){e.next=12;break}return e.next=12,Object(gr.e)(Yt("Email not found"));case 12:return e.next=14,Object(gr.c)(4e3);case 14:return e.next=16,Object(gr.e)({type:"RESET_STATE"});case 16:e.next=23;break;case 18:if(e.prev=18,e.t0=e.catch(0),!e.t0.response){e.next=23;break}return e.next=23,Object(gr.e)(Yt("Error sending the email, please retry"));case 23:case"end":return e.stop()}}),e,null,[[0,18]])}));function Pr(){return br.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(gr.g)("SEND_EMAIL",Ar);case 2:return e.next=4,Object(gr.g)("RESET_PASSWORD",Lr);case 4:case"end":return e.stop()}}),Tr)}var Ur=br.a.mark(Wr),Dr=br.a.mark((function e(){var t,a;return br.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(gr.f)((function(e){return e.user.token}));case 3:return t=e.sent,e.next=6,Object(gr.b)(jr,{url:"http://localhost:5000/getOptions",method:"post"},t);case 6:if(!(a=e.sent).data){e.next=12;break}return e.next=10,Object(gr.e)(ft(a.data));case 10:e.next=14;break;case 12:return e.next=14,Object(gr.e)(ft());case 14:e.next=21;break;case 16:if(e.prev=16,e.t0=e.catch(0),!e.t0.response){e.next=21;break}return e.next=21,Object(gr.e)(ft());case 21:case"end":return e.stop()}}),e,null,[[0,16]])})),Mr=br.a.mark((function e(t){var a,n,r,c;return br.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(gr.f)((function(e){return e.user.id}));case 3:return a=e.sent,n=t.data.value,e.next=7,Object(gr.f)((function(e){return e.user.token}));case 7:return r=e.sent,e.next=10,Object(gr.b)(jr,{url:"http://localhost:5000/createOption",data:{option:n,id:a},method:"post"},r);case 10:if(!(c=e.sent).data.created){e.next=16;break}return e.next=14,Object(gr.e)(gt(c.data.option));case 14:e.next=18;break;case 16:return e.next=18,Object(gr.e)(ht(c.data.error));case 18:return e.next=20,Object(gr.c)(4e3);case 20:return e.next=22,Object(gr.e)({type:"RESET_STATE"});case 22:e.next=29;break;case 24:if(e.prev=24,e.t0=e.catch(0),!e.t0.response){e.next=29;break}return e.next=29,Object(gr.e)(ht("there has been an error"));case 29:case"end":return e.stop()}}),e,null,[[0,24]])})),Fr=br.a.mark((function e(t){var a,n,r,c,s,i;return br.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,n=t.id,e.prev=1,r=Object(o.a)({},a,{id:n}),c=a.interests.map((function(e){return e.value})),r.interests=c,e.next=7,Object(gr.f)((function(e){return e.user.token}));case 7:return s=e.sent,e.next=10,Object(gr.b)(jr,{url:"http://localhost:5000/addInfo",data:r,method:"post"},s);case 10:if(!(i=e.sent).data.added){e.next=16;break}return e.next=14,Object(gr.e)(kt(i.data.uu));case 14:e.next=18;break;case 16:return e.next=18,Object(gr.e)(Ot(i.data.error));case 18:return e.next=20,Object(gr.c)(4e3);case 20:return e.next=22,Object(gr.e)({type:"RESET_STATE"});case 22:e.next=29;break;case 24:if(e.prev=24,e.t0=e.catch(1),!e.t0.response){e.next=29;break}return e.next=29,Object(gr.e)(ht("there has been an error"));case 29:case"end":return e.stop()}}),e,null,[[1,24]])})),Gr=br.a.mark((function e(){var t,a,n;return br.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(gr.f)((function(e){return e.user.id}));case 3:return t=e.sent,e.next=6,Object(gr.f)((function(e){return e.user.token}));case 6:return a=e.sent,e.next=9,Object(gr.b)(jr,{url:"http://localhost:5000/getLocation",data:{id:t},method:"post"},a);case 9:if(!(n=e.sent).data){e.next=15;break}return e.next=13,Object(gr.e)(St({marker:n.data.marker,lat:n.data.loc.lat,lng:n.data.loc.lng}));case 13:e.next=17;break;case 15:return e.next=17,Object(gr.e)(Ot(n.data.error));case 17:return e.next=19,Object(gr.c)(4e3);case 19:return e.next=21,Object(gr.e)({type:"RESET_STATE"});case 21:e.next=28;break;case 23:if(e.prev=23,e.t0=e.catch(0),!e.t0.response){e.next=28;break}return e.next=28,Object(gr.e)(ht("there has been an error"));case 28:case"end":return e.stop()}}),e,null,[[0,23]])})),Br=br.a.mark((function e(t){var a,n,r;return br.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.loc,e.prev=1,e.next=4,Object(gr.f)((function(e){return e.user.id}));case 4:return n=e.sent,e.next=7,Object(gr.f)((function(e){return e.user.token}));case 7:return r=e.sent,e.next=10,Object(gr.b)(jr,{url:"http://localhost:5000/addLocation",data:{id:n,loc:a},method:"post"},r);case 10:e.next=21;break;case 12:if(e.prev=12,e.t0=e.catch(1),!e.t0.response){e.next=17;break}return e.next=17,Object(gr.e)(ht("there has been an error"));case 17:return e.next=19,Object(gr.c)(4e3);case 19:return e.next=21,Object(gr.e)({type:"RESET_STATE"});case 21:case"end":return e.stop()}}),e,null,[[1,12]])}));function Wr(){return br.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(gr.g)("GET_OPTIONS",Dr);case 2:return e.next=4,Object(gr.g)("CREATE_OPTION",Mr);case 4:return e.next=6,Object(gr.g)("ADD_INFO",Fr);case 6:return e.next=8,Object(gr.g)("GET_LOC",Gr);case 8:return e.next=10,Object(gr.g)("ADD_LOCATION",Br);case 10:case"end":return e.stop()}}),Ur)}var Hr=br.a.mark(Zr),Vr=br.a.mark((function e(t){var a,n,r;return br.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.user_id,e.prev=1,e.next=4,Object(gr.f)((function(e){return e.user.token}));case 4:return n=e.sent,e.next=7,Object(gr.b)(jr,{url:"http://localhost:5000/getImages",data:{user_id:a},method:"post"},n);case 7:if(!((r=e.sent).data.length>0)){e.next=11;break}return e.next=11,Object(gr.e)({type:"GET_IMAGES_SUCCESS",images:r.data});case 11:e.next=18;break;case 13:if(e.prev=13,e.t0=e.catch(1),!e.t0.response){e.next=18;break}return e.next=18,Object(gr.e)({type:"GET_IMAGES_ERROR",err:e.t0.response});case 18:case"end":return e.stop()}}),e,null,[[1,13]])})),Kr=br.a.mark((function e(t){var a,n,r;return br.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,e.prev=1,e.next=4,Object(gr.f)((function(e){return e.user.id}));case 4:return n=e.sent,e.next=7,Object(gr.f)((function(e){return e.user.token}));case 7:return r=e.sent,e.next=10,Object(gr.b)(jr,{url:"http://localhost:5000/upload",data:a,method:"post"},r);case 10:if(!e.sent.data){e.next=14;break}return e.next=14,Object(gr.e)(Ja(n));case 14:e.next=21;break;case 16:if(e.prev=16,e.t0=e.catch(1),!e.t0.response){e.next=21;break}return e.next=21,Object(gr.e)({type:"SEND_IMAGES_ERROR",err:e.t0.response});case 21:case"end":return e.stop()}}),e,null,[[1,16]])})),qr=br.a.mark((function e(t){var a,n,r,c;return br.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.img,e.prev=1,e.next=4,Object(gr.f)((function(e){return e.user.id}));case 4:return n=e.sent,r={user_id:n,img_id:a.imgId,isProfilePic:a.isProfilePic},e.next=8,Object(gr.f)((function(e){return e.user.token}));case 8:return c=e.sent,e.next=11,Object(gr.b)(jr,{url:"http://localhost:5000/deleteImages",data:r,method:"post"},c);case 11:if(!e.sent.data){e.next=15;break}return e.next=15,Object(gr.e)(Ja(n));case 15:e.next=22;break;case 17:if(e.prev=17,e.t0=e.catch(1),!e.t0.response){e.next=22;break}return e.next=22,Object(gr.e)({type:"DEL_IMAGES_ERROR",err:e.t0.response});case 22:case"end":return e.stop()}}),e,null,[[1,17]])})),zr=br.a.mark((function e(t){var a,n,r,c;return br.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.imgId,e.prev=1,e.next=4,Object(gr.f)((function(e){return e.user.id}));case 4:return n=e.sent,r={user_id:n,img_id:a},e.next=8,Object(gr.f)((function(e){return e.user.token}));case 8:return c=e.sent,e.next=11,Object(gr.b)(jr,{url:"http://localhost:5000/setProfilePicture",data:r,method:"post"},c);case 11:if(!e.sent.data){e.next=15;break}return e.next=15,Object(gr.e)(Ja(n));case 15:e.next=22;break;case 17:if(e.prev=17,e.t0=e.catch(1),!e.t0.response){e.next=22;break}return e.next=22,Object(gr.e)({type:"SET_PROFILE_PIC_ERROR",err:e.t0.response});case 22:case"end":return e.stop()}}),e,null,[[1,17]])}));function Zr(){return br.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(gr.g)("GET_IMAGES",Vr);case 2:return e.next=4,Object(gr.g)("SEND_IMAGES",Kr);case 4:return e.next=6,Object(gr.g)("DEL_IMAGES",qr);case 6:return e.next=8,Object(gr.g)("SET_PROFILE_PIC",zr);case 8:case"end":return e.stop()}}),Hr)}var $r=br.a.mark(Jr),Yr=br.a.mark((function e(){var t,a;return br.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(gr.f)((function(e){return e.user}));case 3:return t=e.sent,e.next=6,Object(gr.f)((function(e){return e.user.token}));case 6:return a=e.sent,e.next=9,Object(gr.b)(jr,{url:"http://localhost:5000/updateStep",data:{step:t.complete+1,id:t.id},method:"post"},a);case 9:if(!e.sent){e.next=13;break}return e.next=13,Object(gr.e)({type:"INC_STEPPER_SUCCESS"});case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])}));function Jr(){return br.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(gr.g)("INC_STEPPER",Yr);case 2:case"end":return e.stop()}}),$r)}var Xr=br.a.mark(lc),Qr=br.a.mark((function e(t){var a,n,r;return br.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(gr.f)((function(e){return e.user}));case 3:return a=e.sent,e.next=6,Object(gr.f)((function(e){return e.user.token}));case 6:return n=e.sent,e.next=9,Object(gr.b)(jr,{url:"http://localhost:5000/getUsers",data:{id:a.id,filtre:t.filtre},method:"post"},n);case 9:if(!(r=e.sent)){e.next=15;break}return e.next=13,Object(gr.e)(yt(r.data));case 13:e.next=17;break;case 15:return e.next=17,Object(gr.e)(jt("there has been an error"));case 17:e.next=23;break;case 19:return e.prev=19,e.t0=e.catch(0),e.next=23,Object(gr.e)(jt("there has been an error"));case 23:case"end":return e.stop()}}),e,null,[[0,19]])})),ec=br.a.mark((function e(t){var a,n,r,c,s;return br.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.methode,n=t.route,e.prev=1,e.next=4,Object(gr.f)((function(e){return e.user}));case 4:return r=e.sent,e.next=7,Object(gr.f)((function(e){return e.user.token}));case 7:return c=e.sent,e.next=10,Object(gr.b)(jr,{url:"http://localhost:5000/sortUsers",data:{id:r.id,methode:a,route:n},method:"post"},c);case 10:if(!(s=e.sent)){e.next=16;break}return e.next=14,Object(gr.e)(yt(s.data));case 14:e.next=18;break;case 16:return e.next=18,Object(gr.e)(jt("there has been an error"));case 18:e.next=24;break;case 20:return e.prev=20,e.t0=e.catch(1),e.next=24,Object(gr.e)(jt("there has been an error"));case 24:case"end":return e.stop()}}),e,null,[[1,20]])})),tc=br.a.mark((function e(t){var a,n,r;return br.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.blocked_user_id,e.prev=1,e.next=4,Object(gr.f)((function(e){return e.user}));case 4:return n=e.sent,e.next=7,Object(gr.f)((function(e){return e.user.token}));case 7:return r=e.sent,e.next=10,Object(gr.b)(jr,{url:"http://localhost:5000/blockUser",data:{id:n.id,blocked_user_id:a},method:"post"},r);case 10:if(!e.sent){e.next=14;break}return e.next=14,Object(gr.e)(wt(a));case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[1,16]])})),ac=br.a.mark((function e(t){var a,n,r;return br.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.deblocked_user_id,e.prev=1,e.next=4,Object(gr.f)((function(e){return e.user}));case 4:return n=e.sent,e.next=7,Object(gr.f)((function(e){return e.user.token}));case 7:return r=e.sent,e.next=10,Object(gr.b)(jr,{url:"http://localhost:5000/deblockUser",data:{id:n.id,deblocked_user_id:a},method:"post"},r);case 10:if(!e.sent){e.next=14;break}return e.next=14,Object(gr.e)({type:"DELETE_BLOCK",id:a});case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[1,16]])})),nc=br.a.mark((function e(){var t,a,n;return br.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(gr.f)((function(e){return e.user}));case 3:return t=e.sent,e.next=6,Object(gr.f)((function(e){return e.user.token}));case 6:return a=e.sent,e.next=9,Object(gr.b)(jr,{url:"http://localhost:5000/getBlockUser",data:{id:t.id},method:"post"},a);case 9:if(!(n=e.sent)){e.next=13;break}return e.next=13,Object(gr.e)({type:"GET_BLOCK_USER_SUCCESS",data:n.data});case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})),rc=br.a.mark((function e(t){var a,n,r,c;return br.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.liked_user_id,e.prev=1,e.next=4,Object(gr.f)((function(e){return e.user}));case 4:return n=e.sent,e.next=7,Object(gr.f)((function(e){return e.user.token}));case 7:return r=e.sent,e.next=10,Object(gr.b)(jr,{url:"http://localhost:5000/likeUser",data:{username:n.username,id:n.id,liked_user_id:a},method:"post"},r);case 10:if(!e.sent){e.next=16;break}return c={id:n.id,username:n.username,profilePic:n.profilePic},sr.emit("userLiked",{by:c,receiver:parseInt(a),content:"".concat(n.username," liked you")}),e.next=16,Object(gr.e)(wt(a));case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(1),console.log(e.t0);case 21:case"end":return e.stop()}}),e,null,[[1,18]])})),cc=br.a.mark((function e(t){var a,n,r,c;return br.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.dislike_user_id,e.prev=1,e.next=4,Object(gr.f)((function(e){return e.user}));case 4:return n=e.sent,e.next=7,Object(gr.f)((function(e){return e.user.token}));case 7:return r=e.sent,e.next=10,Object(gr.b)(jr,{url:"http://localhost:5000/dislikeUser",data:{username:n.username,id:n.id,dislike_user_id:a},method:"post"},r);case 10:if(!e.sent){e.next=16;break}return c={id:n.id,username:n.username,profilePic:n.profilePic},sr.emit("userUnliked",{by:c,receiver:parseInt(a),content:"".concat(n.username," unliked you")}),e.next=16,Object(gr.e)({type:"DELETE_LIKE",id:a});case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(1),console.log(e.t0);case 21:case"end":return e.stop()}}),e,null,[[1,18]])})),sc=br.a.mark((function e(){var t,a,n;return br.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(gr.f)((function(e){return e.user}));case 3:return t=e.sent,e.next=6,Object(gr.f)((function(e){return e.user.token}));case 6:return a=e.sent,e.next=9,Object(gr.b)(jr,{url:"http://localhost:5000/getLikeUser",data:{id:t.id},method:"post"},a);case 9:if(!(n=e.sent)){e.next=13;break}return e.next=13,Object(gr.e)({type:"GET_LIKE_USER_SUCCESS",data:n.data});case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})),oc=br.a.mark((function e(t){var a,n,r;return br.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.reported_user_id,e.prev=1,e.next=4,Object(gr.f)((function(e){return e.user}));case 4:return n=e.sent,e.next=7,Object(gr.f)((function(e){return e.user.token}));case 7:return r=e.sent,e.next=10,Object(gr.b)(jr,{url:"http://localhost:5000/reportUser",data:{id:n.id,reported_user_id:a},method:"post"},r);case 10:if(!e.sent){e.next=14;break}return e.next=14,Object(gr.e)(wt(a));case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[1,16]])})),ic=br.a.mark((function e(t){var a,n,r,c;return br.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.viewed_user_id,e.prev=1,e.next=4,Object(gr.f)((function(e){return e.user}));case 4:return n=e.sent,e.next=7,Object(gr.f)((function(e){return e.user.token}));case 7:return r=e.sent,e.next=10,Object(gr.b)(jr,{url:"http://localhost:5000/viewProfileUser",data:{username:n.username,id:n.id,viewed_user_id:a},method:"post"},r);case 10:e.sent&&(c={id:n.id,username:n.username,profilePic:n.profilePic},sr.emit("profileViewed",{by:c,receiver:parseInt(a),content:"".concat(n.username," viewed your profile")})),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[1,14]])}));function lc(){return br.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(gr.g)("GET_USERS",Qr);case 2:return e.next=4,Object(gr.g)("BLOCK_USER",tc);case 4:return e.next=6,Object(gr.g)("DEBLOCK_USER",ac);case 6:return e.next=8,Object(gr.g)("GET_BLOCK_USER",nc);case 8:return e.next=10,Object(gr.g)("LIKE_USER",rc);case 10:return e.next=12,Object(gr.g)("DISLIKE_USER",cc);case 12:return e.next=14,Object(gr.g)("DISLIKE_USER_ACT",cc);case 14:return e.next=16,Object(gr.g)("GET_LIKE_USER",sc);case 16:return e.next=18,Object(gr.g)("REPORT_USER",oc);case 18:return e.next=20,Object(gr.g)("VIEW_PROFILE_USER",ic);case 20:return e.next=22,Object(gr.g)("SORT_USERS",ec);case 22:case"end":return e.stop()}}),Xr)}var uc=br.a.mark(dc),mc=br.a.mark((function e(t){var a,n,r,c,s,i;return br.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,e.prev=1,e.next=4,Object(gr.f)((function(e){return e.user.id}));case 4:return n=e.sent,r=Object(o.a)({},a,{id:n}),c=a.interests.map((function(e){return e.value})),r.interests=c,e.next=10,Object(gr.f)((function(e){return e.user.token}));case 10:return s=e.sent,e.next=13,Object(gr.b)(jr,{url:"http://localhost:5000/editProfile",data:r,method:"post"},s);case 13:if(!(i=e.sent).data.result.valid){e.next=19;break}return e.next=17,Object(gr.e)(kt(i.data.uu));case 17:e.next=21;break;case 19:return e.next=21,Object(gr.e)({type:"EDIT_INFO_ERROR",error:i.data.err});case 21:return e.next=23,Object(gr.c)(4e3);case 23:return e.next=25,Object(gr.e)({type:"RESET_STATE"});case 25:e.next=32;break;case 27:if(e.prev=27,e.t0=e.catch(1),!e.t0.response){e.next=32;break}return e.next=32,Object(gr.e)(Ot("there has been an error"));case 32:case"end":return e.stop()}}),e,null,[[1,27]])}));function dc(){return br.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(gr.g)("EDIT_INFO",mc);case 2:case"end":return e.stop()}}),uc)}var pc=br.a.mark(hc),Ec=br.a.mark((function e(){var t,a,n,r;return br.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(gr.f)((function(e){return e.user.id}));case 3:return t=e.sent,a={user_id:t},e.next=7,Object(gr.f)((function(e){return e.user.token}));case 7:return n=e.sent,e.next=10,Object(gr.b)(jr,{url:"http://localhost:5000/getMatchs",method:"post",data:a},n);case 10:if(!(r=e.sent).data){e.next=14;break}return e.next=14,Object(gr.e)(ar(r.data));case 14:e.next=21;break;case 16:if(e.prev=16,e.t0=e.catch(0),!e.t0.response){e.next=21;break}return e.next=21,Object(gr.e)({type:"GET_CONVERSATIONS_ERROR",err:"An error has occured"});case 21:case"end":return e.stop()}}),e,null,[[0,16]])})),fc=br.a.mark((function e(t){var a,n,r,c,s;return br.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.conv_id,e.prev=1,e.next=4,Object(gr.f)((function(e){return e.user.id}));case 4:return n=e.sent,r={user_id:n,conv_id:a},e.next=8,Object(gr.f)((function(e){return e.user.token}));case 8:return c=e.sent,e.next=11,Object(gr.b)(jr,{url:"http://localhost:5000/loadMessages",method:"post",data:r},c);case 11:if(!(s=e.sent).data){e.next=15;break}return e.next=15,Object(gr.e)(nr(s.data,a));case 15:e.next=22;break;case 17:if(e.prev=17,e.t0=e.catch(1),!e.t0.response){e.next=22;break}return e.next=22,Object(gr.e)({type:"LOAD_MESSAGES_ERROR",err:"An error has occured"});case 22:case"end":return e.stop()}}),e,null,[[1,17]])})),bc=br.a.mark((function e(t){var a,n,r,c,s,o,i;return br.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,n=t.message,e.prev=1,e.next=4,Object(gr.f)((function(e){return e.user}));case 4:return r=e.sent,c={sender:r.id,receiver:a,message:n},e.next=8,Object(gr.f)((function(e){return e.user.token}));case 8:return s=e.sent,e.next=11,Object(gr.b)(jr,{url:"http://localhost:5000/sendMessage",method:"post",data:c},s);case 11:if(!0!==(o=e.sent).data.sent){e.next=17;break}i={id:r.id,username:r.username,profilePic:r.profilePic},sr.emit("chatMessage",{by:i,sender:r.id,receiver:c.receiver,profilePic:o.data.profilePic,message:n,content:"".concat(r.username," sent you a message")}),e.next=23;break;case 17:return e.next=19,Object(gr.e)(rr(a,o.data.err));case 19:return e.next=21,Object(gr.c)(4e3);case 21:return e.next=23,Object(gr.e)({type:"RESET_CHAT_STATE"});case 23:e.next=30;break;case 25:if(e.prev=25,e.t0=e.catch(1),!e.t0.response){e.next=30;break}return e.next=30,Object(gr.e)(rr("An error has occured"));case 30:case"end":return e.stop()}}),e,null,[[1,25]])})),gc=br.a.mark((function e(){var t;return br.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(gr.f)((function(e){return e.user.id}));case 3:t=e.sent,sr.emit("join",{id:t}),e.next=12;break;case 7:if(e.prev=7,e.t0=e.catch(0),!e.t0.response){e.next=12;break}return e.next=12,Object(gr.e)(rr("An error has occured"));case 12:case"end":return e.stop()}}),e,null,[[0,7]])}));function hc(){return br.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(gr.g)("GET_CONVERSATIONS",Ec);case 2:return e.next=4,Object(gr.g)("LOAD_MESSAGES",fc);case 4:return e.next=6,Object(gr.g)("SEND_MESSAGE",bc);case 6:return e.next=8,Object(gr.g)("REJOIN_ROOM",gc);case 8:case"end":return e.stop()}}),pc)}var Oc=br.a.mark(kc),vc=br.a.mark((function e(){var t,a,n,r;return br.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(gr.f)((function(e){return e.user.id}));case 3:return t=e.sent,a={user_id:t},e.next=7,Object(gr.f)((function(e){return e.user.token}));case 7:return n=e.sent,e.next=10,Object(gr.b)(jr,{url:"http://localhost:5000/getNotif",method:"post",data:a},n);case 10:if(!(r=e.sent).data){e.next=14;break}return e.next=14,Object(gr.e)({type:"GET_NOTIF_SUCCESS",notif:r.data});case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),e.t0.response;case 19:case"end":return e.stop()}}),e,null,[[0,16]])})),xc=br.a.mark((function e(){var t,a;return br.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(gr.f)((function(e){return e.user.id}));case 3:return t=e.sent,e.next=6,Object(gr.f)((function(e){return e.user.token}));case 6:return a=e.sent,e.next=9,Object(gr.b)(jr,{url:"http://localhost:5000/openNotif",method:"post"},a);case 9:return e.next=11,Object(gr.e)(m());case 11:sr.emit("openNotif",{id:t}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),e.t0.response;case 17:case"end":return e.stop()}}),e,null,[[0,14]])})),Sc=br.a.mark((function e(){return br.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(gr.c)(4e3);case 3:return e.next=5,Object(gr.e)({type:"RESET_NOTIF_STATE"});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}));function kc(){return br.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(gr.g)("GET_NOTIF",vc);case 2:return e.next=4,Object(gr.g)("OPEN_NOTIF",xc);case 4:return e.next=6,Object(gr.g)("NEW_NOTIF",Sc);case 6:case"end":return e.stop()}}),Oc)}var yc=br.a.mark(jc);function jc(){return br.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(gr.a)([Object(gr.d)(yr),Object(gr.d)(Cr),Object(gr.d)(Nr),Object(gr.d)(Pr),Object(gr.d)(Wr),Object(gr.d)(Zr),Object(gr.d)(Jr),Object(gr.d)(lc),Object(gr.d)(dc),Object(gr.d)(hc),Object(gr.d)(kc)]);case 2:case"end":return e.stop()}}),yc)}var wc=a(124),_c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INSCRIPTION_USER":return{registerStatus:"loading"};case"INSCRIPTION_USER_SUCCESS":return{registerStatus:"success"};case"INSCRIPTION_USER_ERROR":return{registerStatus:"error",error:t.error};case"EMAIL_CONFIRMATION":return{emailConfirmation:"loading"};case"EMAIL_CONFIRMATION_SUCCESS":return{emailConfirmation:"success"};case"EMAIL_CONFIRMATION_ERROR":return{emailConfirmation:"error"};case"RESET_STATE":return"initial state";default:return e}},Cc={status:"offline",error:null},Rc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_USER":return{status:"loading",error:null};case"LOGIN_USER_SUCCESS":return{status:"online",error:null};case"LOGIN_USER_ERROR":return{status:"error",error:t.error};case"LOGIN_USER_ERROR_FIELD":return{status:"errorField",error:t.errorField};case"CLEAR_USER_INFORMATION":return Cc;case"RESET_STATE":return"initial state";default:return e}},Ic=a(603),Nc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RESET_PASSWORD":return{status:"loading",error:null};case"RESET_PASSWORD_SUCCESS":return{status:"success",error:null};case"RESET_PASSWORD_ERROR":return{status:"error",error:t.error};case"SEND_EMAIL":return{status:"loading",errors:null};case"SEND_EMAIL_SUCCESS":return{status:"success",errors:null};case"SEND_EMAIL_ERROR":return{status:"error",errors:t.error};case"RESET_STATE":return"initial state";default:return e}},Tc=a(37),Lc={selectOptions:[],selectLoading:!1},Ac=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_OPTIONS":return{selectOptions:[],selectLoading:!0};case"GET_OPTIONS_SUCCESS":return{selectOptions:t.options,selectLoading:!1};case"CREATE_OPTION":return{selectOptions:Object(Tc.a)(e.selectOptions),selectLoading:!0};case"CREATE_OPTION_SUCCESS":return{selectOptions:[].concat(Object(Tc.a)(e.selectOptions),[t.option]),selectLoading:!1};case"CREATE_OPTION_ERROR":case"ADD_INFO_ERROR":return{selectOptions:Object(Tc.a)(e.selectOptions),selectLoading:!1,error:[t.error]};case"EDIT_INFO_ERROR":return{selectOptions:Object(Tc.a)(e.selectOptions),selectLoading:!1,error:t.error};case"RESET_STATE":return{selectOptions:Object(Tc.a)(e.selectOptions),selectLoading:!1};default:return e}},Pc={images:[],isImages:!1,err:""},Uc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_IMAGES":return{images:null,isImages:!1};case"GET_IMAGES_SUCCESS":return{images:t.images,isImages:!0};case"GET_IMAGES_ERROR":return{err:t.err,isImages:!1};case"SEND_IMAGES":return{images:null,isImages:!1};case"SEND_IMAGES_SUCCESS":return{images:t.images,isImages:!0};case"SEND_IMAGES_ERROR":return{err:t.err,isImages:!1};case"DEL_IMAGES":return{images:null,isImages:!1};case"DEL_IMAGES_SUCCESS":return{images:t.images,isImages:!0};case"DEL_IMAGES_ERROR":return{err:t.err,isImages:!1};case"SET_PROFILE_PIC":return{images:null,isImages:!1};case"SET_PROFILE_PIC_SUCCESS":return{images:t.images,isImages:!0};case"SET_PROFILE_PIC_ERROR":return{err:t.err,isImages:!1};default:return e}},Dc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_USER_SUCCESS":return t.data;case"CLEAR_USER_INFORMATION":return null;case"DEC_STEPPER":return Object(o.a)({},e,{complete:e.complete-1});case"INC_STEPPER_SUCCESS":return Object(o.a)({},e,{complete:e.complete+1});case"ADD_LOCATION_SUCCESS":return Object(o.a)({},e,{marker:t.loc.marker,lat:t.loc.lat,long:t.loc.lng});default:return e}},Mc={status:"DEFAULT STATE",isUsers:!1,users:null,err:null},Fc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_USERS":return{status:"loading",isUsers:!1,users:null};case"GET_USERS_SUCCESS":return{status:"success",isUsers:!0,users:t.data};case"GET_USERS_ERROR":return{status:"error",isUsers:!1,err:t.err};case"DISLIKE_USER":for(var a=t.dislike_user_id,n=Object(Tc.a)(e.users),r=0;r<n.length;r++)if(n[r].user.id===parseInt(a)){"iLike"===n[r].user.like?n[r].user.like=null:"match"===n[r].user.like&&(n[r].user.like="heLiked");break}return{status:"success",isUsers:!0,users:n};case"DELETE_USER":for(var c=t.id,s=Object(Tc.a)(e.users),o=0;o<s.length;o++)if(s[o].user.id===parseInt(c)){s.splice(o,1);break}return{status:"success",isUsers:!0,users:s};case"RESET_STATE_USERS":return Mc;default:return e}},Gc={isUsers:!1,users:null},Bc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_BLOCK_USER_SUCCESS":return{isUsers:!0,users:t.data};case"DELETE_BLOCK":for(var a=t.id,n=e.users,r=0;r<n.length;r++)if(n[r].id===parseInt(a)){n.splice(r,1);break}return{isUsers:!0,users:n};default:return e}},Wc={isUsers:!1,users:null},Hc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_LIKE_USER_SUCCESS":return{isUsers:!0,users:t.data};case"DELETE_LIKE":for(var a=t.id,n=e.users,r=0;r<n.length;r++)n[r].id===parseInt(a)&&(n.splice(r,1),r--);return{isUsers:!0,users:n};default:return e}},Vc={selectedConversation:{},conversations:[]},Kc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_CONVERSATIONS_SUCCESS":return{selectedConversation:Object(o.a)({},e.selectedConversation),conversations:t.data};case"SELECT_CONVERSATION":for(var a=t.id,n=Object(Tc.a)(e.conversations),r=0;r<n.length;r++)if(n[r].id===parseInt(a))return{selectedConversation:n[r],conversations:Object(Tc.a)(e.conversations)};break;case"LOAD_MESSAGES_SUCCESS":for(var c=t.conv_id,s=Object(Tc.a)(e.conversations),i=0;i<s.length;i++)if(s[i].id===parseInt(c))return s[i].messages=t.data,{selectedConversation:Object(o.a)({},e.selectedConversation,{messages:t.data}),conversations:s};break;case"SEND_MESSAGE_SUCCESS":for(var l=t.id,u={path:t.profilePic,message:t.message,isMyMessage:!0},m=Object(Tc.a)(e.conversations),d=0;d<m.length;d++)if(m[d].id===parseInt(l)){m[d].messages&&m[d].messages.push(u);break}return e.selectedConversation.id===parseInt(l)?{selectedConversation:Object(o.a)({},e.selectedConversation,{messages:m[d].messages}),conversations:m}:{selectedConversation:Object(o.a)({},e.selectedConversation),conversations:m};case"SEND_MESSAGE_ERROR":return{selectedConversation:Object(o.a)({},e.selectedConversation),conversations:Object(Tc.a)(e.conversations),err:t.err};case"RECEIVE_MESSAGE":for(var p=t.data.sender,E={path:t.data.profilePic,message:t.data.message,isMyMessage:!1},f=Object(Tc.a)(e.conversations),b=0;b<f.length;b++)if(f[b].id===parseInt(p)){f[b].messages&&f[b].messages.push(E);break}return e.selectedConversation.id===parseInt(p)?{selectedConversation:Object(o.a)({},e.selectedConversation,{messages:f[b].messages}),conversations:f}:{selectedConversation:Object(o.a)({},e.selectedConversation),conversations:f};case"RESET_CHAT_STATE":return{selectedConversation:Object(o.a)({},e.selectedConversation),conversations:Object(Tc.a)(e.conversations)};case"RESET_STATE":return Vc;default:return e}},qc={current_notif:"",notifications:[]},zc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPEN_NOTIF_SUCCESS":var a=Object(Tc.a)(e.notifications);return a.forEach((function(e){0===e.seen&&(e.seen=1)})),{current_notif:"",notifications:a};case"NEW_NOTIF":var n={by:t.data.by,content:t.data.content,seen:0},r=Object(Tc.a)(e.notifications);return r.unshift(n),{current_notif:t.data.content,notifications:r};case"GET_NOTIF_SUCCESS":return{current_notif:"",notifications:t.notif};case"RESET_NOTIF_STATE":return{current_notif:"",notifications:Object(Tc.a)(e.notifications)};default:return e}},Zc=function(e){return Object(pr.c)({router:Object(wc.b)(e),register:_c,login:Rc,user:Dc,users:Fc,resetPassword:Nc,addInfo:Ac,images:Uc,blockList:Bc,likeList:Hc,chat:Kc,notif:zc,form:Ic.a})},$c=a(56),Yc=a(276),Jc=a(165),Xc=a(306),Qc=a.n(Xc),es=Object($c.a)(),ts=Object(Er.a)(),as={key:"use-app",storage:Qc.a,whitelist:"user"},ns=Object(Jc.a)(as,Zc(es));var rs=a(307),cs=function(e){var t=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||pr.d,a=Object(pr.e)(ns,e,t(Object(pr.a)(Object(Yc.a)(es),ts)));return ts.run(jc),a}(),ss=Object(Jc.b)(cs);s.a.render(r.a.createElement(l.a,{store:cs},r.a.createElement(rs.PersistGate,{loading:null,persistor:ss},r.a.createElement(wc.a,{history:es},r.a.createElement(dr,{store:cs})))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[324,1,2]]]);
//# sourceMappingURL=main.5b59815f.chunk.js.map