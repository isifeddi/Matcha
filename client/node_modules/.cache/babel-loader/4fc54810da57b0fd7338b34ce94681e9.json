{"ast":null,"code":"import _defineProperty from \"/Users/isifeddi/Desktop/Matcha/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/isifeddi/Desktop/Matcha/client/src/containers/completeProfile/addInfo.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { Component } from 'react';\nimport AddInfo from '../../components/completeProfile/addInfo';\nimport { connect } from \"react-redux\";\nimport { reduxForm } from 'redux-form';\nimport { incStepper } from '../../actions/stepperAction';\nimport { createOption, addInfo } from '../../actions/addInfoAction';\n\nconst validate = values => {\n  console.log(values);\n  const errors = {};\n  const requiredFields = ['gender', 'sexOrient', 'birthday', 'bio'];\n  const requiredArr = ['interests'];\n  requiredFields.forEach(field => {\n    if (!values[field] || !values[field].trim()) {\n      errors[field] = 'Required !';\n    }\n  });\n  requiredArr.forEach(field => {\n    if (!values[field]) {\n      errors[field] = 'Required !';\n    }\n  });\n  if (values.bio && !/^.{1,200}$/.test(values.bio)) errors.bio = 'maximum 200 charachters';\n  if (values.birthday && !/([12]\\d{3}-(0[1-9]|1[0-2])-(0[1-9]|[12]\\d|3[01]))/.test(values.birthday)) errors.birthday = 'Invalid date !';\n  let today = new Date();\n  let birthDate = new Date(values.birthday);\n  let age = today.getFullYear() - birthDate.getFullYear();\n  let m = today.getMonth() - birthDate.getMonth();\n\n  if (m < 0 || m === 0 && today.getDate() < birthDate.getDate()) {\n    age--;\n  }\n\n  if (age < 18) errors.birthday = \"Come back when you're 18 ;)\";\n  if (age > 120) errors.birthday = 'Invalid age !';\n  return errors;\n};\n\nclass AddInfoContainer extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.componentDidMount = () => {\n      this.props.dd();\n    };\n  }\n\n  render() {\n    return React.createElement(AddInfo, {\n      props: this.props,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    });\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  'values': state.form.values,\n  'selectOptions': state.select.selectOptions,\n  'selectLoading': state.select.selectLoading,\n  'selectError': state.select.error,\n  'id': state.user.id\n});\n\nconst mapDispatchToProps = {\n  \"addInfo\": addInfo,\n  \"incStepper\": incStepper,\n  \"createOption\": createOption\n};\n\nconst mergeProps = (stateProps, dispatchProps, otherProps) => _objectSpread({}, stateProps, {}, dispatchProps, {}, otherProps, {\n  // \"initialize\": ()=> {\n  //     otherProps.initialize({gender: 'male'});\n  //     otherProps.reset();\n  // },\n  \"handleSubmit\": otherProps.handleSubmit(values => {\n    console.log(otherProps); //dispatchProps.addInfo(values, stateProps.id);\n  })\n});\n\nconst connectedAddInfoContainer = connect(mapStateToProps, mapDispatchToProps, mergeProps)(AddInfo);\nAddInfoContainer = reduxForm({\n  form: \"addInfo\",\n  \"destroyOnUnmount\": false,\n  validate //enableReinitialize: true,\n\n})(connectedAddInfoContainer);\nexport default AddInfoContainer;","map":{"version":3,"sources":["/Users/isifeddi/Desktop/Matcha/client/src/containers/completeProfile/addInfo.js"],"names":["React","Component","AddInfo","connect","reduxForm","incStepper","createOption","addInfo","validate","values","console","log","errors","requiredFields","requiredArr","forEach","field","trim","bio","test","birthday","today","Date","birthDate","age","getFullYear","m","getMonth","getDate","AddInfoContainer","componentDidMount","props","dd","render","mapStateToProps","state","form","select","selectOptions","selectLoading","error","user","id","mapDispatchToProps","mergeProps","stateProps","dispatchProps","otherProps","handleSubmit","connectedAddInfoContainer"],"mappings":"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","sourcesContent":["import React,{Component} from 'react'\nimport AddInfo from '../../components/completeProfile/addInfo';\nimport {connect} from \"react-redux\";\nimport {reduxForm} from 'redux-form';\nimport {incStepper} from '../../actions/stepperAction';\nimport {createOption, addInfo} from '../../actions/addInfoAction';\n\nconst validate = (values) => {\n    console.log(values);\n    const errors = {};\n    const requiredFields = [\n        'gender',\n        'sexOrient',\n        'birthday',\n        'bio',\n    ];\n    const requiredArr = [\n        'interests'\n    ];\n    requiredFields.forEach(field => {\n        if (!values[field] || !values[field].trim()) {\n            errors[field] = 'Required !';\n        }\n    });\n    requiredArr.forEach(field => {\n        if (!values[field]) {\n            errors[field] = 'Required !';\n        }\n    });\n    if(values.bio && !/^.{1,200}$/.test(values.bio))\n        errors.bio = 'maximum 200 charachters';\n\n    if(values.birthday && !/([12]\\d{3}-(0[1-9]|1[0-2])-(0[1-9]|[12]\\d|3[01]))/.test(values.birthday))\n        errors.birthday = 'Invalid date !';\n    let today = new Date();\n    let birthDate = new Date(values.birthday);\n    let age = today.getFullYear() - birthDate.getFullYear();\n    let m = today.getMonth() - birthDate.getMonth();\n    if (m < 0 || (m === 0 && today.getDate() < birthDate.getDate())) {\n        age--;\n    }\n    if(age < 18)\n        errors.birthday = \"Come back when you're 18 ;)\"\n    if(age > 120)\n        errors.birthday = 'Invalid age !'\n    return errors;\n}\n\nclass AddInfoContainer extends Component{\n     componentDidMount = () => {\n         this.props.dd();\n     }\n    render() {\n        return (\n            <AddInfo props={this.props} />\n        )\n    }\n}\n\nconst mapStateToProps = (state) => (\n{\n    'values' : state.form.values,\n    'selectOptions': state.select.selectOptions,\n    'selectLoading': state.select.selectLoading,\n    'selectError' : state.select.error,\n    'id': state.user.id,\n});\nconst mapDispatchToProps = {\n    \"addInfo\": addInfo,\n    \"incStepper\": incStepper,\n    \"createOption\": createOption\n};\nconst mergeProps = (stateProps, dispatchProps, otherProps) => ({\n    ...stateProps,\n    ...dispatchProps,\n    ...otherProps,\n    // \"initialize\": ()=> {\n    //     otherProps.initialize({gender: 'male'});\n    //     otherProps.reset();\n    // },\n\n    \"handleSubmit\" : otherProps.handleSubmit((values) => {\n        console.log(otherProps);\n        //dispatchProps.addInfo(values, stateProps.id);\n    }),\n    \n});\n\nconst connectedAddInfoContainer = connect(mapStateToProps, mapDispatchToProps, mergeProps)(AddInfo);\n\nAddInfoContainer = reduxForm ({\n    form : \"addInfo\",\n    \"destroyOnUnmount\": false,\n    validate,\n    //enableReinitialize: true,\n})(connectedAddInfoContainer);\n\nexport default AddInfoContainer;"]},"metadata":{},"sourceType":"module"}