{"ast":null,"code":"import _slicedToArray from \"/Users/ibouroum/Desktop/Matcha/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/ibouroum/Desktop/Matcha/client/src/containers/completeProfile/pictures.js\";\nimport React from 'react';\nimport Picture from '../../components/completeProfile/pictures';\nimport { connect } from \"react-redux\";\nimport { sendImages, delImages } from '../../actions/imagesAction';\n\nconst Pictures = props => {\n  const user = props.user,\n        images = props.images,\n        sendImages = props.sendImages;\n\n  const _React$useState = React.useState(),\n        _React$useState2 = _slicedToArray(_React$useState, 2),\n        imagePreviewUrl = _React$useState2[0],\n        setImagePreviewUrl = _React$useState2[1];\n\n  const fileChangedHandler = event => {\n    //console.log(event.target.files[0]);\n    let files = event.target.files[0];\n    const formData = new FormData();\n    formData.append('files', files); //const data = {formData, userId : user.id};\n    // axios.post('https://localhost:5000/upload',{formData : formData, userId : user.id},headers)\n    // .then((res) =>{\n    //     console.log(res);\n    // }).catch((err)=>{\n    //     console.log(err);\n    // })\n\n    sendImages(formData, user.id);\n    let reader = new FileReader();\n\n    reader.onload = event => {\n      setImagePreviewUrl(reader.result);\n    };\n\n    reader.readAsDataURL(files);\n  };\n\n  const deletePicture = event => {\n    const path = event.target.getAttribute('path');\n    const data = {\n      user_id: user.id,\n      path: path\n    };\n    delImages(data);\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, React.createElement(Picture, {\n    fileChangedHandler: fileChangedHandler,\n    imagePreviewUrl: imagePreviewUrl,\n    images: images,\n    deletePicture: deletePicture,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }));\n};\n\nconst mapStateToProps = state => ({\n  \"user\": state.user,\n  \"images\": state.imagesReducer\n});\n\nconst mapDispatchToProps = {\n  \"sendImages\": sendImages\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(Pictures);","map":{"version":3,"sources":["/Users/ibouroum/Desktop/Matcha/client/src/containers/completeProfile/pictures.js"],"names":["React","Picture","connect","sendImages","delImages","Pictures","props","user","images","useState","imagePreviewUrl","setImagePreviewUrl","fileChangedHandler","event","files","target","formData","FormData","append","id","reader","FileReader","onload","result","readAsDataURL","deletePicture","path","getAttribute","data","user_id","mapStateToProps","state","imagesReducer","mapDispatchToProps"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,2CAApB;AACA,SAAQC,OAAR,QAAsB,aAAtB;AACA,SAAQC,UAAR,EAAmBC,SAAnB,QAAmC,4BAAnC;;AACA,MAAMC,QAAQ,GAAIC,KAAD,IAAW;AAAA,QAChBC,IADgB,GACWD,KADX,CAChBC,IADgB;AAAA,QACXC,MADW,GACWF,KADX,CACXE,MADW;AAAA,QACJL,UADI,GACWG,KADX,CACJH,UADI;;AAAA,0BAEiBH,KAAK,CAACS,QAAN,EAFjB;AAAA;AAAA,QAErBC,eAFqB;AAAA,QAELC,kBAFK;;AAI5B,QAAMC,kBAAkB,GAAIC,KAAD,IAAW;AAEpC;AACE,QAAIC,KAAK,GAAID,KAAK,CAACE,MAAN,CAAaD,KAAb,CAAmB,CAAnB,CAAb;AACA,UAAME,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;AACAD,IAAAA,QAAQ,CAACE,MAAT,CAAgB,OAAhB,EAAwBJ,KAAxB,EALkC,CAMlC;AACA;AACA;AACA;AACA;AACA;AACA;;AACAX,IAAAA,UAAU,CAACa,QAAD,EAAUT,IAAI,CAACY,EAAf,CAAV;AACA,QAAIC,MAAM,GAAI,IAAIC,UAAJ,EAAd;;AACAD,IAAAA,MAAM,CAACE,MAAP,GAAiBT,KAAD,IAAW;AACvBF,MAAAA,kBAAkB,CAACS,MAAM,CAACG,MAAR,CAAlB;AACH,KAFD;;AAGAH,IAAAA,MAAM,CAACI,aAAP,CAAqBV,KAArB;AAEH,GApBD;;AAsBA,QAAMW,aAAa,GAAIZ,KAAD,IAAW;AAC7B,UAAMa,IAAI,GAAGb,KAAK,CAACE,MAAN,CAAaY,YAAb,CAA0B,MAA1B,CAAb;AACA,UAAMC,IAAI,GAAG;AACTC,MAAAA,OAAO,EAAGtB,IAAI,CAACY,EADN;AAETO,MAAAA,IAAI,EAAGA;AAFE,KAAb;AAIAtB,IAAAA,SAAS,CAACwB,IAAD,CAAT;AACD,GAPH;;AASI,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,OAAD;AACI,IAAA,kBAAkB,EAAIhB,kBAD1B;AAC8C,IAAA,eAAe,EAAIF,eADjE;AAEI,IAAA,MAAM,EAAIF,MAFd;AAEsB,IAAA,aAAa,EAAEiB,aAFrC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CADJ;AAQH,CA3CD;;AA8CA,MAAMK,eAAe,GAAIC,KAAD,KACxB;AACI,UAASA,KAAK,CAACxB,IADnB;AAEI,YAAWwB,KAAK,CAACC;AAFrB,CADwB,CAAxB;;AAKA,MAAMC,kBAAkB,GAAG;AACvB,gBAAe9B;AADQ,CAA3B;AAIA,eAAeD,OAAO,CAAC4B,eAAD,EAAkBG,kBAAlB,CAAP,CAA6C5B,QAA7C,CAAf","sourcesContent":["import React from 'react';\nimport Picture from '../../components/completeProfile/pictures';\nimport {connect} from \"react-redux\";\nimport {sendImages,delImages} from '../../actions/imagesAction';\nconst Pictures = (props) => {\n    const { user,images,sendImages } = props;\nconst [imagePreviewUrl,setImagePreviewUrl] = React.useState();\n\nconst fileChangedHandler = (event) => {\n\n  //console.log(event.target.files[0]);\n    let files  = event.target.files[0];\n    const formData = new FormData();\n    formData.append('files',files);\n    //const data = {formData, userId : user.id};\n    // axios.post('https://localhost:5000/upload',{formData : formData, userId : user.id},headers)\n    // .then((res) =>{\n    //     console.log(res);\n    // }).catch((err)=>{\n    //     console.log(err);\n    // })\n    sendImages(formData,user.id);\n    let reader  = new FileReader();\n    reader.onload = (event) => {\n        setImagePreviewUrl(reader.result);\n    }\n    reader.readAsDataURL(files);\n\n}\n\nconst deletePicture = (event) => {\n    const path = event.target.getAttribute('path');\n    const data = {\n        user_id : user.id,\n        path : path\n    }\n    delImages(data);\n  }\n\n    return (\n        <div>\n            <Picture\n                fileChangedHandler = {fileChangedHandler} imagePreviewUrl = {imagePreviewUrl}\n                images = {images} deletePicture={deletePicture}\n            />\n        </div>\n    )\n}\n\n\nconst mapStateToProps = (state) => (\n{\n    \"user\" : state.user,\n    \"images\" : state.imagesReducer,\n});\nconst mapDispatchToProps = {\n    \"sendImages\" : sendImages,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Pictures);"]},"metadata":{},"sourceType":"module"}