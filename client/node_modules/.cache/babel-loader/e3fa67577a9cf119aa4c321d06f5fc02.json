{"ast":null,"code":"import axios from 'axios';\n\nconst validate = values => {\n  const errors = {};\n  const requiredFields = ['firstname', 'lastname', 'username', 'email', 'password', 'confirmPassword'];\n  requiredFields.forEach(field => {\n    if (!values[field] || !values[field].trim()) {\n      errors[field] = 'Required !';\n    }\n  });\n  let u = 0;\n  let e = 0;\n  axios.post('http://localhost:5000/register', values).then(function (response) {\n    if (response.data.username === 'username already exists') errors.username = 'username already exists';\n    if (response.data.email === 'email already exists') errors.email = 'email already exists';\n  }); // function getv () {\n  //     return  axios.post('http://localhost:5000/register', values)\n  //             .then(function (response){\n  //                 // if(response.data.username === 'username already exists')\n  //                 //     u = 1;\n  //                 // else\n  //                 //     u = 0;\n  //                 // if(response.data.email === 'email already exists')\n  //                 //     e = 1;\n  //                 // else\n  //                 //     e = 0;\n  //                 // return [u, e];\n  //                 return [response.data.username, response.data.email];\n  //             });\n  // }\n\n  getv().then(function (r) {\n    console.log(r);\n    if (r[0] === 'username already exists') u = 1;else u = 0;\n    if (r[1] === 'email already exists') e = 1;else e = 0;\n  });\n  console.log(e);\n  if (values.username && !/^[a-z0-9_-]{2,20}$/.test(values.username)) errors.username = 'Username can contain 2-20 characters, letters (a-z), numbers, \"_\" and \"-\"';\n  if (values.username && u === 1) errors.username = \"username already exists\";\n  if (values.email && !/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(values.email)) errors.email = \"Invalid email address !\";\n  if (values.email && e === 1) errors.email = \"email already exists\";\n  if (values.password && !/\\d/.test(values.password)) errors.password = \"Password must contain a number !\";else if (values.password && !/[A-Z]/.test(values.password)) errors.password = \"Password must contain an uppercase letter !\";else if (values.password && !/[a-z]/.test(values.password)) errors.password = \"Password must contain a lowercase letter !\";else if (values.password && !/[ !@#$%^&*()_+\\-=[\\]{};':\"\\\\|,.<>/?]/.test(values.password)) errors.password = \"Password must contain a special character !\";else if (values.password && !/[a-zA-Z0-9 !@#$%^&*()_+\\-=[\\]{};':\"\\\\|,.<>/? ]{8,20}/.test(values.password)) errors.password = \"Password must contain 8-20 characters !\";\n  if (values.confirmPassword && values.password !== values.confirmPassword) errors.confirmPassword = \"Passwords does not match !\";\n  return errors;\n};\n\nexport default validate;","map":{"version":3,"sources":["/Users/isifeddi/Desktop/Matcha/client/src/containers/Register/validate.js"],"names":["axios","validate","values","errors","requiredFields","forEach","field","trim","u","e","post","then","response","data","username","email","getv","r","console","log","test","password","confirmPassword"],"mappings":"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","sourcesContent":["import axios from 'axios';\n\nconst validate = (values) => {\n    const errors = {};\n\n    const requiredFields = [\n        'firstname',\n        'lastname',\n        'username',\n        'email',\n        'password',\n        'confirmPassword',\n    ];\n\n    requiredFields.forEach(field => {\n        if (!values[field] || !values[field].trim()) {\n            errors[field] = 'Required !';\n        }\n    });\n\n    let u = 0;\n    let e = 0;\n\n    axios.post('http://localhost:5000/register', values)\n    .then(function (response){\n            if(response.data.username === 'username already exists')\n                errors.username = 'username already exists'\n            if(response.data.email === 'email already exists')\n                errors.email = 'email already exists'\n                         \n    });\n    \n    // function getv () {\n    //     return  axios.post('http://localhost:5000/register', values)\n    //             .then(function (response){\n    //                 // if(response.data.username === 'username already exists')\n    //                 //     u = 1;\n    //                 // else\n    //                 //     u = 0;\n    //                 // if(response.data.email === 'email already exists')\n    //                 //     e = 1;\n    //                 // else\n    //                 //     e = 0;\n    //                 // return [u, e];\n    //                 return [response.data.username, response.data.email];\n    //             });\n    // }\n\n    getv().then(function (r) {\n        console.log(r);\n        if(r[0] === 'username already exists')\n            u = 1;\n        else\n            u = 0;\n        if(r[1] === 'email already exists')\n            e = 1;\n        else\n            e = 0;\n    })\n\n    console.log(e)\n\n    if(values.username && !/^[a-z0-9_-]{2,20}$/.test(values.username))\n        errors.username = 'Username can contain 2-20 characters, letters (a-z), numbers, \"_\" and \"-\"';\n    if(values.username && u === 1)\n        errors.username = \"username already exists\"\n    if (values.email && !/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(values.email))\n        errors.email = \"Invalid email address !\";\n    if(values.email && e === 1)\n        errors.email = \"email already exists\"\n    if(values.password && !/\\d/.test(values.password))\n        errors.password = \"Password must contain a number !\"\n    else if(values.password && !/[A-Z]/.test(values.password))\n        errors.password = \"Password must contain an uppercase letter !\"\n    else if(values.password && !/[a-z]/.test(values.password))\n        errors.password = \"Password must contain a lowercase letter !\"\n    else if(values.password && !/[ !@#$%^&*()_+\\-=[\\]{};':\"\\\\|,.<>/?]/.test(values.password))\n        errors.password = \"Password must contain a special character !\"\n    else if(values.password && !/[a-zA-Z0-9 !@#$%^&*()_+\\-=[\\]{};':\"\\\\|,.<>/? ]{8,20}/.test(values.password))\n        errors.password = \"Password must contain 8-20 characters !\"\n    if(values.confirmPassword && values.password !== values.confirmPassword)\n        errors.confirmPassword = \"Passwords does not match !\"\n  \n    return errors;\n}\n\nexport default validate;"]},"metadata":{},"sourceType":"module"}