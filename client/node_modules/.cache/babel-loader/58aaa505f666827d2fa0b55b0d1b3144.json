{"ast":null,"code":"import _objectSpread from \"/Volumes/Storage/goinfre/isifeddi/M/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport { takeLatest, put, select } from \"redux-saga/effects\";\nimport { editInfoError } from \"../actions/profileAction\";\nimport { updateUserSuccess } from '../actions/userAction';\nimport axios from 'axios';\n\nconst edit_Info = function* edit_Info({\n  data\n}) {\n  try {\n    const id = yield select(state => state.user.id);\n\n    const info = _objectSpread({}, data, {\n      id\n    });\n\n    const inter = data.interests.map(item => item.value);\n    info.interests = inter;\n    const response = yield axios.post('http://localhost:5000/editProfile', info);\n    console.log(response);\n\n    if (response.data.result.valid) {\n      yield put(updateUserSuccess(response.data.uu));\n    } else if (response.data.result.email) {\n      yield put(editInfoError(response.data.result.email));\n    }\n  } catch (error) {\n    if (error.response) {\n      yield put(editInfoError('there has been an error'));\n    }\n  }\n};\n\nexport default function* () {\n  yield takeLatest(\"EDIT_INFO\", edit_Info);\n}","map":{"version":3,"sources":["/Volumes/Storage/goinfre/isifeddi/M/client/src/sagas/profileSaga.js"],"names":["takeLatest","put","select","editInfoError","updateUserSuccess","axios","edit_Info","data","id","state","user","info","inter","interests","map","item","value","response","post","console","log","result","valid","uu","email","error"],"mappings":";AAAA,SAASA,UAAT,EAAqBC,GAArB,EAAyBC,MAAzB,QAAsC,oBAAtC;AACA,SAAQC,aAAR,QAA4B,0BAA5B;AACA,SAASC,iBAAT,QAAiC,uBAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,SAAS,GACf,UAAUA,SAAV,CAAqB;AAACC,EAAAA;AAAD,CAArB,EAA6B;AACzB,MAAI;AACA,UAAMC,EAAE,GAAG,MAAMN,MAAM,CAAEO,KAAD,IAAWA,KAAK,CAACC,IAAN,CAAWF,EAAvB,CAAvB;;AACA,UAAMG,IAAI,qBAAOJ,IAAP;AAAaC,MAAAA;AAAb,MAAV;;AACA,UAAMI,KAAK,GAAGL,IAAI,CAACM,SAAL,CAAeC,GAAf,CAAmBC,IAAI,IAAIA,IAAI,CAACC,KAAhC,CAAd;AACAL,IAAAA,IAAI,CAACE,SAAL,GAAiBD,KAAjB;AACA,UAAMK,QAAQ,GAAI,MAAMZ,KAAK,CAACa,IAAN,CAAW,mCAAX,EAAgDP,IAAhD,CAAxB;AACAQ,IAAAA,OAAO,CAACC,GAAR,CAAYH,QAAZ;;AACA,QAAGA,QAAQ,CAACV,IAAT,CAAcc,MAAd,CAAqBC,KAAxB,EACA;AACI,YAAMrB,GAAG,CAACG,iBAAiB,CAACa,QAAQ,CAACV,IAAT,CAAcgB,EAAf,CAAlB,CAAT;AACH,KAHD,MAIK,IAAGN,QAAQ,CAACV,IAAT,CAAcc,MAAd,CAAqBG,KAAxB,EACL;AACI,YAAMvB,GAAG,CAACE,aAAa,CAACc,QAAQ,CAACV,IAAT,CAAcc,MAAd,CAAqBG,KAAtB,CAAd,CAAT;AACH;AACJ,GAfD,CAeC,OAAOC,KAAP,EAAc;AACX,QAAIA,KAAK,CAACR,QAAV,EAAoB;AAChB,YAAMhB,GAAG,CAACE,aAAa,CAAC,yBAAD,CAAd,CAAT;AACH;AACJ;AACJ,CAtBD;;AAwBA,eAAe,aAAa;AAC1B,QAAMH,UAAU,CAAC,WAAD,EAAcM,SAAd,CAAhB;AACD","sourcesContent":["import { takeLatest, put,select} from \"redux-saga/effects\";\nimport {editInfoError} from \"../actions/profileAction\";\nimport { updateUserSuccess} from '../actions/userAction';\nimport axios from 'axios';\n\nconst edit_Info =\nfunction *edit_Info ({data}) {\n    try {\n        const id = yield select((state) => state.user.id);\n        const info = {...data, id}\n        const inter = data.interests.map(item => item.value)\n        info.interests = inter;\n        const response  = yield axios.post('http://localhost:5000/editProfile', info);\n        console.log(response);\n        if(response.data.result.valid)\n        {\n            yield put(updateUserSuccess(response.data.uu));\n        }\n        else if(response.data.result.email)\n        {\n            yield put(editInfoError(response.data.result.email));\n        }\n    }catch (error) {\n        if (error.response) {\n            yield put(editInfoError('there has been an error'));\n        }\n    }\n};\n\nexport default function *() {\n  yield takeLatest(\"EDIT_INFO\", edit_Info);\n}"]},"metadata":{},"sourceType":"module"}