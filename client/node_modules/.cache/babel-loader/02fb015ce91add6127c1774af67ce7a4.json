{"ast":null,"code":"import { takeLatest, put } from \"redux-saga/effects\"; //import { delay } from 'redux-saga/effects'\n\nimport { getImages, getImagesSuccess, getImagesError, sendImagesSuccess, sendImagesError, delImagesError, delImagesSuccess } from \"../actions/imagesAction\";\nimport axios from 'axios';\n\nconst getPictures = function* getPictures({\n  user_id\n}) {\n  try {\n    const response = yield axios.post('http://localhost:5000/getImages', {\n      user_id: user_id\n    });\n\n    if (response.data) {\n      yield put(getImagesSuccess(response.data));\n    }\n  } catch (error) {\n    if (error.response) {\n      yield put(getImagesError(error.response));\n    }\n  }\n};\n\nconst sendPictures = function* sendPictures({\n  data,\n  user_id\n}) {\n  try {\n    //console.log(data)\n    //const headers = {'Content-Type': 'multipart/form-data'};\n    const response = yield axios.post('http://localhost:5000/upload', data, {\n      headers: user_id\n    });\n\n    if (response.data) {\n      yield put(sendImagesSuccess());\n    }\n  } catch (error) {\n    if (error.response) {\n      yield put(sendImagesError(error.response));\n    }\n  }\n};\n\nconst delPictures = function* delPictures({\n  data\n}) {\n  try {\n    console.log(data);\n    const headers = {\n      'Content-Type': 'multipart/form-data'\n    };\n    const response = yield axios.post('http://localhost:5000/deleteImages', data, headers);\n\n    if (response.data) {\n      yield put(getImages(data));\n    }\n  } catch (error) {\n    if (error.response) {\n      yield put(delImagesError(error.response));\n    }\n  }\n};\n\nexport default function* () {\n  yield takeLatest(\"GET_IMAGES\", getPictures);\n  yield takeLatest(\"SEND_IMAGES\", sendPictures);\n  yield takeLatest(\"DEL_IMAGES\", delPictures);\n}","map":{"version":3,"sources":["/Users/ibouroum/Desktop/Matcha/client/src/sagas/imagesSaga.js"],"names":["takeLatest","put","getImages","getImagesSuccess","getImagesError","sendImagesSuccess","sendImagesError","delImagesError","delImagesSuccess","axios","getPictures","user_id","response","post","data","error","sendPictures","headers","delPictures","console","log"],"mappings":"AAAA,SAASA,UAAT,EAAqBC,GAArB,QAAgC,oBAAhC,C,CACA;;AACA,SAAQC,SAAR,EAAkBC,gBAAlB,EAAmCC,cAAnC,EAAkDC,iBAAlD,EAAoEC,eAApE,EAAoFC,cAApF,EAAmGC,gBAAnG,QAA0H,yBAA1H;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,WAAW,GACf,UAAUA,WAAV,CAAuB;AAACC,EAAAA;AAAD,CAAvB,EAAkC;AAChC,MAAI;AACA,UAAMC,QAAQ,GAAI,MAAMH,KAAK,CAACI,IAAN,CAAW,iCAAX,EAA6C;AAACF,MAAAA,OAAO,EAAGA;AAAX,KAA7C,CAAxB;;AACA,QAAGC,QAAQ,CAACE,IAAZ,EACA;AACI,YAAMb,GAAG,CAACE,gBAAgB,CAACS,QAAQ,CAACE,IAAV,CAAjB,CAAT;AACH;AAEJ,GAPD,CAOC,OAAOC,KAAP,EAAc;AACb,QAAIA,KAAK,CAACH,QAAV,EAAoB;AAClB,YAAMX,GAAG,CAACG,cAAc,CAACW,KAAK,CAACH,QAAP,CAAf,CAAT;AACD;AACF;AACJ,CAdD;;AAeA,MAAMI,YAAY,GAChB,UAAUA,YAAV,CAAwB;AAACF,EAAAA,IAAD;AAAMH,EAAAA;AAAN,CAAxB,EAAwC;AACtC,MAAI;AACH;AACC;AACE,UAAMC,QAAQ,GAAI,MAAMH,KAAK,CAACI,IAAN,CAAW,8BAAX,EAA0CC,IAA1C,EAA+C;AAACG,MAAAA,OAAO,EAAGN;AAAX,KAA/C,CAAxB;;AACA,QAAGC,QAAQ,CAACE,IAAZ,EACA;AACE,YAAMb,GAAG,CAACI,iBAAiB,EAAlB,CAAT;AACD;AAEJ,GATD,CASC,OAAOU,KAAP,EAAc;AACb,QAAIA,KAAK,CAACH,QAAV,EAAoB;AAClB,YAAMX,GAAG,CAACK,eAAe,CAACS,KAAK,CAACH,QAAP,CAAhB,CAAT;AACD;AACF;AACJ,CAhBD;;AAiBA,MAAMM,WAAW,GACf,UAAUA,WAAV,CAAuB;AAACJ,EAAAA;AAAD,CAAvB,EAA+B;AAC7B,MAAI;AACNK,IAAAA,OAAO,CAACC,GAAR,CAAYN,IAAZ;AACI,UAAMG,OAAO,GAAG;AAAC,sBAAgB;AAAjB,KAAhB;AACE,UAAML,QAAQ,GAAI,MAAMH,KAAK,CAACI,IAAN,CAAW,oCAAX,EAAgDC,IAAhD,EAAqDG,OAArD,CAAxB;;AACA,QAAGL,QAAQ,CAACE,IAAZ,EACA;AACE,YAAMb,GAAG,CAACC,SAAS,CAACY,IAAD,CAAV,CAAT;AACD;AAEJ,GATD,CASC,OAAOC,KAAP,EAAc;AACb,QAAIA,KAAK,CAACH,QAAV,EAAoB;AAClB,YAAMX,GAAG,CAACM,cAAc,CAACQ,KAAK,CAACH,QAAP,CAAf,CAAT;AACD;AACF;AACJ,CAhBD;;AAiBA,eAAe,aAAa;AACxB,QAAMZ,UAAU,CAAC,YAAD,EAAeU,WAAf,CAAhB;AACA,QAAMV,UAAU,CAAC,aAAD,EAAgBgB,YAAhB,CAAhB;AACA,QAAMhB,UAAU,CAAC,YAAD,EAAckB,WAAd,CAAhB;AACD","sourcesContent":["import { takeLatest, put } from \"redux-saga/effects\";\n//import { delay } from 'redux-saga/effects'\nimport {getImages,getImagesSuccess,getImagesError,sendImagesSuccess,sendImagesError,delImagesError,delImagesSuccess} from \"../actions/imagesAction\";\nimport axios from 'axios';\n\nconst getPictures =\n  function *getPictures ({user_id}) {\n    try {\n        const response  = yield axios.post('http://localhost:5000/getImages',{user_id : user_id});\n        if(response.data)\n        {\n            yield put(getImagesSuccess(response.data));\n        }\n       \n    }catch (error) {\n      if (error.response) {\n        yield put(getImagesError(error.response));\n      }\n    }\n};\nconst sendPictures =\n  function *sendPictures ({data,user_id}) {\n    try {\n     //console.log(data)\n      //const headers = {'Content-Type': 'multipart/form-data'};\n        const response  = yield axios.post('http://localhost:5000/upload',data,{headers : user_id});\n        if(response.data)\n        {\n          yield put(sendImagesSuccess());\n        }\n       \n    }catch (error) {\n      if (error.response) {\n        yield put(sendImagesError(error.response));\n      }\n    }\n};\nconst delPictures =\n  function *delPictures ({data}) {\n    try {\n  console.log(data)\n      const headers = {'Content-Type': 'multipart/form-data'};\n        const response  = yield axios.post('http://localhost:5000/deleteImages',data,headers);\n        if(response.data)\n        {\n          yield put(getImages(data));\n        }\n       \n    }catch (error) {\n      if (error.response) {\n        yield put(delImagesError(error.response));\n      }\n    }\n};\nexport default function *() {\n    yield takeLatest(\"GET_IMAGES\", getPictures);\n    yield takeLatest(\"SEND_IMAGES\", sendPictures);\n    yield takeLatest(\"DEL_IMAGES\",delPictures);\n  }"]},"metadata":{},"sourceType":"module"}