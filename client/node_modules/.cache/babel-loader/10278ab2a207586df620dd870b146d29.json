{"ast":null,"code":"import _slicedToArray from \"/Users/ibouroum/Desktop/Matcha/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/ibouroum/Desktop/Matcha/client/src/containers/completeProfile/pictures.js\";\nimport React from 'react';\nimport Picture from '../../components/completeProfile/pictures';\nimport { connect } from \"react-redux\";\nimport axios from 'axios';\n\nconst Pictures = props => {\n  const user = props.user;\n\n  const _React$useState = React.useState(),\n        _React$useState2 = _slicedToArray(_React$useState, 2),\n        imagePreviewUrl = _React$useState2[0],\n        setImagePreviewUrl = _React$useState2[1];\n\n  const fileChangedHandler = event => {\n    console.log(event.target.files[0]);\n    let files = event.target.files[0];\n    let reader = new FileReader();\n\n    reader.onload = event => {\n      setImagePreviewUrl(reader.result);\n    };\n\n    reader.readAsDataURL(files);\n    const headers = {\n      'Content-Type': 'multipart/form-data'\n    };\n    const formData = new FormData();\n    formData.append('files', files);\n    axios.post('http://localhost:5000/upload', {\n      formData: formData,\n      userId: user.id\n    }, headers).then(res => {\n      console.log(res);\n    });\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28\n    },\n    __self: this\n  }, React.createElement(Picture, {\n    fileChangedHandler: fileChangedHandler,\n    imagePreviewUrl: imagePreviewUrl,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29\n    },\n    __self: this\n  }));\n};\n\nconst mapStateToProps = state => ({\n  \"user\": state.user,\n  \"images\": state.imagesReducer\n});\n\nconst mapDispatchToProps = {};\nexport default connect(mapStateToProps, mapDispatchToProps)(Pictures);","map":{"version":3,"sources":["/Users/ibouroum/Desktop/Matcha/client/src/containers/completeProfile/pictures.js"],"names":["React","Picture","connect","axios","Pictures","props","user","useState","imagePreviewUrl","setImagePreviewUrl","fileChangedHandler","event","console","log","target","files","reader","FileReader","onload","result","readAsDataURL","headers","formData","FormData","append","post","userId","id","then","res","mapStateToProps","state","imagesReducer","mapDispatchToProps"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,2CAApB;AACA,SAAQC,OAAR,QAAsB,aAAtB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,QAAQ,GAAIC,KAAD,IAAW;AAAA,QACjBC,IADiB,GACTD,KADS,CACjBC,IADiB;;AAAA,0BAEiBN,KAAK,CAACO,QAAN,EAFjB;AAAA;AAAA,QAErBC,eAFqB;AAAA,QAELC,kBAFK;;AAI5B,QAAMC,kBAAkB,GAAIC,KAAD,IAAW;AACpCC,IAAAA,OAAO,CAACC,GAAR,CAAYF,KAAK,CAACG,MAAN,CAAaC,KAAb,CAAmB,CAAnB,CAAZ;AACE,QAAIA,KAAK,GAAIJ,KAAK,CAACG,MAAN,CAAaC,KAAb,CAAmB,CAAnB,CAAb;AACA,QAAIC,MAAM,GAAI,IAAIC,UAAJ,EAAd;;AACAD,IAAAA,MAAM,CAACE,MAAP,GAAiBP,KAAD,IAAW;AACvBF,MAAAA,kBAAkB,CAACO,MAAM,CAACG,MAAR,CAAlB;AACH,KAFD;;AAGAH,IAAAA,MAAM,CAACI,aAAP,CAAqBL,KAArB;AACA,UAAMM,OAAO,GAAG;AAAC,sBAAgB;AAAjB,KAAhB;AACA,UAAMC,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;AACAD,IAAAA,QAAQ,CAACE,MAAT,CAAgB,OAAhB,EAAwBT,KAAxB;AACAZ,IAAAA,KAAK,CAACsB,IAAN,CAAW,8BAAX,EAA0C;AAACH,MAAAA,QAAQ,EAAGA,QAAZ;AAAsBI,MAAAA,MAAM,EAAGpB,IAAI,CAACqB;AAApC,KAA1C,EAAkFN,OAAlF,EACCO,IADD,CACOC,GAAD,IAAQ;AACVjB,MAAAA,OAAO,CAACC,GAAR,CAAYgB,GAAZ;AACH,KAHD;AAKH,GAhBD;;AAiBI,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,OAAD;AAAS,IAAA,kBAAkB,EAAInB,kBAA/B;AAAmD,IAAA,eAAe,EAAIF,eAAtE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CADJ;AAKH,CA1BD;;AA6BA,MAAMsB,eAAe,GAAIC,KAAD,KACxB;AACI,UAASA,KAAK,CAACzB,IADnB;AAEI,YAAWyB,KAAK,CAACC;AAFrB,CADwB,CAAxB;;AAKA,MAAMC,kBAAkB,GAAG,EAA3B;AAIA,eAAe/B,OAAO,CAAC4B,eAAD,EAAkBG,kBAAlB,CAAP,CAA6C7B,QAA7C,CAAf","sourcesContent":["import React from 'react';\nimport Picture from '../../components/completeProfile/pictures';\nimport {connect} from \"react-redux\";\nimport axios from 'axios';\n\nconst Pictures = (props) => {\n    const {user} = props;\nconst [imagePreviewUrl,setImagePreviewUrl] = React.useState();\n\nconst fileChangedHandler = (event) => {\n  console.log(event.target.files[0]);\n    let files  = event.target.files[0];\n    let reader  = new FileReader();\n    reader.onload = (event) => {\n        setImagePreviewUrl(reader.result);\n    }\n    reader.readAsDataURL(files);\n    const headers = {'Content-Type': 'multipart/form-data'};\n    const formData = new FormData();\n    formData.append('files',files);\n    axios.post('http://localhost:5000/upload',{formData : formData, userId : user.id},headers)\n    .then((res) =>{\n        console.log(res);\n    })\n\n}\n    return (\n        <div>\n            <Picture fileChangedHandler = {fileChangedHandler} imagePreviewUrl = {imagePreviewUrl}/>\n        </div>\n    )\n}\n\n\nconst mapStateToProps = (state) => (\n{\n    \"user\" : state.user,\n    \"images\" : state.imagesReducer,\n});\nconst mapDispatchToProps = {\n    \n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Pictures);"]},"metadata":{},"sourceType":"module"}