{"ast":null,"code":"import axios from 'axios';\nimport { SubmissionError } from 'redux-form';\n\nconst asyncValidate = (values, dispatch, props) => {\n  axios.post(\"http://localhost:5000/checkIfEx\", values.username).then(async () => {\n    const error = {};\n    const v = {\n      username: values.username,\n      email: values.email\n    };\n    const er = await axios.post('http://localhost:5000/checkIfEx', v);\n\n    if (er.data.username === 'Username already exists') {\n      error.username = er.data.username;\n    }\n\n    if (er.data.email === 'Email already exists') {\n      error.email = er.data.email;\n    }\n\n    if (error.username !== 'undefined' && error.email !== 'undefined') throw new SubmissionError({\n      username: error.username,\n      email: error.email\n    });\n  });\n};\n\nexport default asyncValidate;","map":{"version":3,"sources":["/Users/ibouroum/Desktop/Maatcha/client/src/containers/Register/asyncValidate.js"],"names":["axios","SubmissionError","asyncValidate","values","dispatch","props","post","username","then","error","v","email","er","data"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,eAAT,QAAgC,YAAhC;;AAEA,MAAMC,aAAa,GAAG,CAACC,MAAD,EAASC,QAAT,EAAmBC,KAAnB,KAA6B;AACjDL,EAAAA,KAAK,CAACM,IAAN,CAAW,iCAAX,EAA8CH,MAAM,CAACI,QAArD,EAEDC,IAFC,CAEI,YAAY;AAEZ,UAAMC,KAAK,GAAG,EAAd;AAEA,UAAMC,CAAC,GAAG;AAACH,MAAAA,QAAQ,EAAEJ,MAAM,CAACI,QAAlB;AAA4BI,MAAAA,KAAK,EAAER,MAAM,CAACQ;AAA1C,KAAV;AAEA,UAAMC,EAAE,GAAG,MAAMZ,KAAK,CAACM,IAAN,CAAW,iCAAX,EAA8CI,CAA9C,CAAjB;;AAEA,QAAIE,EAAE,CAACC,IAAH,CAAQN,QAAR,KAAqB,yBAAzB,EACA;AACEE,MAAAA,KAAK,CAACF,QAAN,GAAiBK,EAAE,CAACC,IAAH,CAAQN,QAAzB;AACD;;AACD,QAAIK,EAAE,CAACC,IAAH,CAAQF,KAAR,KAAkB,sBAAtB,EACA;AACEF,MAAAA,KAAK,CAACE,KAAN,GAAaC,EAAE,CAACC,IAAH,CAAQF,KAArB;AACD;;AACD,QAAGF,KAAK,CAACF,QAAN,KAAmB,WAAnB,IAAkCE,KAAK,CAACE,KAAN,KAAgB,WAArD,EACE,MAAM,IAAIV,eAAJ,CAAqB;AACzBM,MAAAA,QAAQ,EAAEE,KAAK,CAACF,QADS;AAEzBI,MAAAA,KAAK,EAAEF,KAAK,CAACE;AAFY,KAArB,CAAN;AAIH,GAvBH;AA0BC,CA3BH;;AA4BE,eAAeT,aAAf","sourcesContent":["import axios from 'axios'\nimport { SubmissionError } from 'redux-form'\n\nconst asyncValidate = (values, dispatch, props) => {\n  axios.post(\"http://localhost:5000/checkIfEx\", values.username)\n\n.then(async () => {\n\n      const error = {}\n\n      const v = {username :values.username, email: values.email}\n\n      const er = await axios.post('http://localhost:5000/checkIfEx', v)\n\n      if (er.data.username === 'Username already exists')\n      {\n        error.username = er.data.username\n      }\n      if (er.data.email === 'Email already exists')\n      {\n        error.email= er.data.email\n      }\n      if(error.username !== 'undefined' && error.email !== 'undefined')\n        throw new SubmissionError ({\n          username: error.username,\n          email: error.email\n        })\n    })\n   \n  \n  } \n  export default asyncValidate"]},"metadata":{},"sourceType":"module"}